import { AIConfig } from '../AIConfig';

export type AIWeights = {
    SCORE_BASE_VALUE: number;
    SCORE_WIN_CONDITION: number;
    SCORE_TOWN: number;
    SCORE_ENEMY_LAND: number;
    SCORE_DISCONNECT_ENEMY: number;
    SCORE_DEFEND_BASE: number;
    SCORE_HILL: number;
    SCORE_BRIDGE: number;
    SCORE_EXPANSION: number;
    SCORE_AURA_MULTIPLIER: number;
    COST_PENALTY_MULTIPLIER: number;
    SCORE_LOOKAHEAD_TOWN: number;
    SCORE_LOOKAHEAD_BASE: number;
    STRATEGY_EARLY_TURN_LIMIT: number;
    STRATEGY_EARLY_EXPANSION_BONUS: number;
    STRATEGY_EARLY_FARM_BONUS: number;
    STRATEGY_BASE_UPGRADE_BONUS: number;
    STRATEGY_WALL_PRIORITY_BONUS: number;
    STRATEGY_ENDGAME_TURN: number;
    STRATEGY_ENDGAME_ATTACK_BONUS: number;
    SAVE_FOR_TARGET_MAX_TURNS: number;
    SAVE_FOR_TARGET_MIN_SCORE: number;
    ECONOMY_FARM_INCOME_TARGET_RATIO: number;
    ECONOMY_FARM_BALANCE_BONUS: number;
    ECONOMY_BASE_BALANCE_BONUS: number;
    ECONOMY_BASE_INCOME: number;
    ECONOMY_BASE_INCOME_LEVEL: number;
    ECONOMY_FARM_BUILD: number;
    ECONOMY_FARM_UPGRADE: number;
    ECONOMY_FARM_LEVEL: number;
    ECONOMY_AURA_BONUS_MULT: number;
    DEFENSE_BASE_UPGRADE: number;
    DEFENSE_WALL_BUILD: number;
    DEFENSE_WALL_UPGRADE: number;
    DEFENSE_WATCHTOWER_BUILD: number;
    DEFENSE_WATCHTOWER_UPGRADE: number;
    DEFENSE_THREAT_MULT: number;
    DEFENSE_BASE_THREAT_RADIUS: number;
    DEFENSE_BASE_THREAT_SCORE: number;
    RECONNECT_DISCONNECTED_SCORE: number;
    RECONNECT_MULTI_BONUS: number;
    RISK_ENEMY_ADJACENT_PENALTY: number;
    MAX_MOVES_PER_TURN: number;
    RANDOM_NOISE: number;
};

export type AIProfile = {
    id: string;
    label?: string;
    weights?: Partial<AIWeights>;
};

export const DefaultAIWeights: AIWeights = {
    SCORE_BASE_VALUE: AIConfig.SCORE_BASE_VALUE,
    SCORE_WIN_CONDITION: AIConfig.SCORE_WIN_CONDITION,
    SCORE_TOWN: AIConfig.SCORE_TOWN,
    SCORE_ENEMY_LAND: AIConfig.SCORE_ENEMY_LAND,
    SCORE_DISCONNECT_ENEMY: AIConfig.SCORE_DISCONNECT_ENEMY,
    SCORE_DEFEND_BASE: AIConfig.SCORE_DEFEND_BASE,
    SCORE_HILL: AIConfig.SCORE_HILL,
    SCORE_BRIDGE: AIConfig.SCORE_BRIDGE,
    SCORE_EXPANSION: AIConfig.SCORE_EXPANSION,
    SCORE_AURA_MULTIPLIER: AIConfig.SCORE_AURA_MULTIPLIER,
    COST_PENALTY_MULTIPLIER: AIConfig.COST_PENALTY_MULTIPLIER,
    SCORE_LOOKAHEAD_TOWN: AIConfig.SCORE_LOOKAHEAD_TOWN,
    SCORE_LOOKAHEAD_BASE: AIConfig.SCORE_LOOKAHEAD_BASE,
    STRATEGY_EARLY_TURN_LIMIT: AIConfig.STRATEGY_EARLY_TURN_LIMIT,
    STRATEGY_EARLY_EXPANSION_BONUS: AIConfig.STRATEGY_EARLY_EXPANSION_BONUS,
    STRATEGY_EARLY_FARM_BONUS: AIConfig.STRATEGY_EARLY_FARM_BONUS,
    STRATEGY_BASE_UPGRADE_BONUS: AIConfig.STRATEGY_BASE_UPGRADE_BONUS,
    STRATEGY_WALL_PRIORITY_BONUS: AIConfig.STRATEGY_WALL_PRIORITY_BONUS,
    STRATEGY_ENDGAME_TURN: AIConfig.STRATEGY_ENDGAME_TURN,
    STRATEGY_ENDGAME_ATTACK_BONUS: AIConfig.STRATEGY_ENDGAME_ATTACK_BONUS,
    SAVE_FOR_TARGET_MAX_TURNS: AIConfig.SAVE_FOR_TARGET_MAX_TURNS,
    SAVE_FOR_TARGET_MIN_SCORE: AIConfig.SAVE_FOR_TARGET_MIN_SCORE,
    ECONOMY_FARM_INCOME_TARGET_RATIO: AIConfig.ECONOMY_FARM_INCOME_TARGET_RATIO,
    ECONOMY_FARM_BALANCE_BONUS: AIConfig.ECONOMY_FARM_BALANCE_BONUS,
    ECONOMY_BASE_BALANCE_BONUS: AIConfig.ECONOMY_BASE_BALANCE_BONUS,
    ECONOMY_BASE_INCOME: AIConfig.ECONOMY_BASE_INCOME,
    ECONOMY_BASE_INCOME_LEVEL: AIConfig.ECONOMY_BASE_INCOME_LEVEL,
    ECONOMY_FARM_BUILD: AIConfig.ECONOMY_FARM_BUILD,
    ECONOMY_FARM_UPGRADE: AIConfig.ECONOMY_FARM_UPGRADE,
    ECONOMY_FARM_LEVEL: AIConfig.ECONOMY_FARM_LEVEL,
    ECONOMY_AURA_BONUS_MULT: AIConfig.ECONOMY_AURA_BONUS_MULT,
    DEFENSE_BASE_UPGRADE: AIConfig.DEFENSE_BASE_UPGRADE,
    DEFENSE_WALL_BUILD: AIConfig.DEFENSE_WALL_BUILD,
    DEFENSE_WALL_UPGRADE: AIConfig.DEFENSE_WALL_UPGRADE,
    DEFENSE_WATCHTOWER_BUILD: AIConfig.DEFENSE_WATCHTOWER_BUILD,
    DEFENSE_WATCHTOWER_UPGRADE: AIConfig.DEFENSE_WATCHTOWER_UPGRADE,
    DEFENSE_THREAT_MULT: AIConfig.DEFENSE_THREAT_MULT,
    DEFENSE_BASE_THREAT_RADIUS: AIConfig.DEFENSE_BASE_THREAT_RADIUS,
    DEFENSE_BASE_THREAT_SCORE: AIConfig.DEFENSE_BASE_THREAT_SCORE,
    RECONNECT_DISCONNECTED_SCORE: AIConfig.RECONNECT_DISCONNECTED_SCORE,
    RECONNECT_MULTI_BONUS: AIConfig.RECONNECT_MULTI_BONUS,
    RISK_ENEMY_ADJACENT_PENALTY: AIConfig.RISK_ENEMY_ADJACENT_PENALTY,
    MAX_MOVES_PER_TURN: AIConfig.MAX_MOVES_PER_TURN,
    RANDOM_NOISE: AIConfig.RANDOM_NOISE
};

export const EvolvedProfile1: AIProfile = {
    id: 'evolved_1768965424694_1',
    label: 'Leader Ivy',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.119,
        DEFENSE_BASE_THREAT_RADIUS: 2.109,
        DEFENSE_BASE_THREAT_SCORE: 149.12,
        DEFENSE_BASE_UPGRADE: 51.61,
        DEFENSE_THREAT_MULT: 43.193,
        DEFENSE_WALL_BUILD: 83.415,
        DEFENSE_WALL_UPGRADE: 358.424,
        DEFENSE_WATCHTOWER_BUILD: 33.01,
        DEFENSE_WATCHTOWER_UPGRADE: 69.632,
        ECONOMY_AURA_BONUS_MULT: 69.372,
        ECONOMY_BASE_BALANCE_BONUS: 22.723,
        ECONOMY_BASE_INCOME: 172.736,
        ECONOMY_BASE_INCOME_LEVEL: 16.865,
        ECONOMY_FARM_BALANCE_BONUS: 25.817,
        ECONOMY_FARM_BUILD: 74.084,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 0.631,
        ECONOMY_FARM_LEVEL: 61.706,
        ECONOMY_FARM_UPGRADE: 183.626,
        MAX_MOVES_PER_TURN: 22.114,
        RANDOM_NOISE: 13.514,
        RECONNECT_DISCONNECTED_SCORE: 36.285,
        RECONNECT_MULTI_BONUS: 29.561,
        RISK_ENEMY_ADJACENT_PENALTY: 111.39,
        SAVE_FOR_TARGET_MAX_TURNS: 3.532,
        SAVE_FOR_TARGET_MIN_SCORE: 178.514,
        SCORE_AURA_MULTIPLIER: 358.698,
        SCORE_BASE_VALUE: 8,
        SCORE_BRIDGE: 40.387,
        SCORE_DEFEND_BASE: 1139.658,
        SCORE_DISCONNECT_ENEMY: 34.006,
        SCORE_ENEMY_LAND: 32.831,
        SCORE_EXPANSION: 17.354,
        SCORE_HILL: 31.641,
        SCORE_LOOKAHEAD_BASE: 326.455,
        SCORE_LOOKAHEAD_TOWN: 82.966,
        SCORE_TOWN: 132.124,
        SCORE_WIN_CONDITION: 4206.029,
        STRATEGY_BASE_UPGRADE_BONUS: 31.345,
        STRATEGY_EARLY_EXPANSION_BONUS: 11.037,
        STRATEGY_EARLY_FARM_BONUS: 23.912,
        STRATEGY_EARLY_TURN_LIMIT: 4.112,
        STRATEGY_ENDGAME_ATTACK_BONUS: 49.836,
        STRATEGY_ENDGAME_TURN: 8.694,
        STRATEGY_WALL_PRIORITY_BONUS: 92.761,
    }
};

export const EvolvedProfile2: AIProfile = {
    id: 'evolved_1768965424694_2',
    label: 'Guard Tom',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.163,
        DEFENSE_BASE_THREAT_RADIUS: 2.248,
        DEFENSE_BASE_THREAT_SCORE: 156.193,
        DEFENSE_BASE_UPGRADE: 48.613,
        DEFENSE_THREAT_MULT: 46.698,
        DEFENSE_WALL_BUILD: 78.28,
        DEFENSE_WALL_UPGRADE: 335.837,
        DEFENSE_WATCHTOWER_BUILD: 31.191,
        DEFENSE_WATCHTOWER_UPGRADE: 63.378,
        ECONOMY_AURA_BONUS_MULT: 67.257,
        ECONOMY_BASE_BALANCE_BONUS: 20.789,
        ECONOMY_BASE_INCOME: 161.621,
        ECONOMY_BASE_INCOME_LEVEL: 15.865,
        ECONOMY_FARM_BALANCE_BONUS: 24.799,
        ECONOMY_FARM_BUILD: 69.246,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 0.656,
        ECONOMY_FARM_LEVEL: 65.864,
        ECONOMY_FARM_UPGRADE: 186.952,
        MAX_MOVES_PER_TURN: 23.748,
        RANDOM_NOISE: 13.645,
        RECONNECT_DISCONNECTED_SCORE: 38.868,
        RECONNECT_MULTI_BONUS: 27.586,
        RISK_ENEMY_ADJACENT_PENALTY: 102.404,
        SAVE_FOR_TARGET_MAX_TURNS: 3.687,
        SAVE_FOR_TARGET_MIN_SCORE: 193.714,
        SCORE_AURA_MULTIPLIER: 333.345,
        SCORE_BASE_VALUE: 8.515,
        SCORE_BRIDGE: 38.622,
        SCORE_DEFEND_BASE: 1069.138,
        SCORE_DISCONNECT_ENEMY: 32.512,
        SCORE_ENEMY_LAND: 35.698,
        SCORE_EXPANSION: 16.79,
        SCORE_HILL: 31.585,
        SCORE_LOOKAHEAD_BASE: 307.008,
        SCORE_LOOKAHEAD_TOWN: 78.402,
        SCORE_TOWN: 126.368,
        SCORE_WIN_CONDITION: 4269.832,
        STRATEGY_BASE_UPGRADE_BONUS: 30.367,
        STRATEGY_EARLY_EXPANSION_BONUS: 11.443,
        STRATEGY_EARLY_FARM_BONUS: 24.995,
        STRATEGY_EARLY_TURN_LIMIT: 3.993,
        STRATEGY_ENDGAME_ATTACK_BONUS: 51.726,
        STRATEGY_ENDGAME_TURN: 8.916,
        STRATEGY_WALL_PRIORITY_BONUS: 96.612,
    }
};

export const EvolvedProfile3: AIProfile = {
    id: 'evolved_1768965424694_3',
    label: 'Ravager Leo',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.469,
        DEFENSE_BASE_THREAT_RADIUS: 2.094,
        DEFENSE_BASE_THREAT_SCORE: 185.183,
        DEFENSE_BASE_UPGRADE: 39.818,
        DEFENSE_THREAT_MULT: 49.958,
        DEFENSE_WALL_BUILD: 107.339,
        DEFENSE_WALL_UPGRADE: 211.47,
        DEFENSE_WATCHTOWER_BUILD: 12.915,
        DEFENSE_WATCHTOWER_UPGRADE: 77.404,
        ECONOMY_AURA_BONUS_MULT: 86.228,
        ECONOMY_BASE_BALANCE_BONUS: 20.091,
        ECONOMY_BASE_INCOME: 204.318,
        ECONOMY_BASE_INCOME_LEVEL: 23.05,
        ECONOMY_FARM_BALANCE_BONUS: 17.776,
        ECONOMY_FARM_BUILD: 81.981,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.102,
        ECONOMY_FARM_LEVEL: 77.45,
        ECONOMY_FARM_UPGRADE: 245.033,
        MAX_MOVES_PER_TURN: 34.444,
        RANDOM_NOISE: 18.97,
        RECONNECT_DISCONNECTED_SCORE: 41.029,
        RECONNECT_MULTI_BONUS: 24.188,
        RISK_ENEMY_ADJACENT_PENALTY: 129.765,
        SAVE_FOR_TARGET_MAX_TURNS: 3.884,
        SAVE_FOR_TARGET_MIN_SCORE: 312.714,
        SCORE_AURA_MULTIPLIER: 301.864,
        SCORE_BASE_VALUE: 11.707,
        SCORE_BRIDGE: 25.272,
        SCORE_DEFEND_BASE: 950.297,
        SCORE_DISCONNECT_ENEMY: 36.377,
        SCORE_ENEMY_LAND: 50.931,
        SCORE_EXPANSION: 14.156,
        SCORE_HILL: 33.372,
        SCORE_LOOKAHEAD_BASE: 315.503,
        SCORE_LOOKAHEAD_TOWN: 57.338,
        SCORE_TOWN: 166.464,
        SCORE_WIN_CONDITION: 4608.142,
        STRATEGY_BASE_UPGRADE_BONUS: 27.422,
        STRATEGY_EARLY_EXPANSION_BONUS: 8.403,
        STRATEGY_EARLY_FARM_BONUS: 46.085,
        STRATEGY_EARLY_TURN_LIMIT: 3.829,
        STRATEGY_ENDGAME_ATTACK_BONUS: 94.641,
        STRATEGY_ENDGAME_TURN: 8.126,
        STRATEGY_WALL_PRIORITY_BONUS: 60.364,
    }
};

export const EvolvedProfile4: AIProfile = {
    id: 'evolved_1768965424694_4',
    label: 'Pioneer Noah',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.307,
        DEFENSE_BASE_THREAT_RADIUS: 2.077,
        DEFENSE_BASE_THREAT_SCORE: 152.371,
        DEFENSE_BASE_UPGRADE: 51.281,
        DEFENSE_THREAT_MULT: 52.852,
        DEFENSE_WALL_BUILD: 86.635,
        DEFENSE_WALL_UPGRADE: 355.113,
        DEFENSE_WATCHTOWER_BUILD: 31.196,
        DEFENSE_WATCHTOWER_UPGRADE: 64.363,
        ECONOMY_AURA_BONUS_MULT: 58.376,
        ECONOMY_BASE_BALANCE_BONUS: 24.112,
        ECONOMY_BASE_INCOME: 150.826,
        ECONOMY_BASE_INCOME_LEVEL: 13.958,
        ECONOMY_FARM_BALANCE_BONUS: 24.486,
        ECONOMY_FARM_BUILD: 73.586,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 0.658,
        ECONOMY_FARM_LEVEL: 63.444,
        ECONOMY_FARM_UPGRADE: 201.555,
        MAX_MOVES_PER_TURN: 25.716,
        RANDOM_NOISE: 15.633,
        RECONNECT_DISCONNECTED_SCORE: 44.292,
        RECONNECT_MULTI_BONUS: 27.508,
        RISK_ENEMY_ADJACENT_PENALTY: 110.946,
        SAVE_FOR_TARGET_MAX_TURNS: 3.492,
        SAVE_FOR_TARGET_MIN_SCORE: 190.278,
        SCORE_AURA_MULTIPLIER: 344.722,
        SCORE_BASE_VALUE: 8.599,
        SCORE_BRIDGE: 35.129,
        SCORE_DEFEND_BASE: 942.05,
        SCORE_DISCONNECT_ENEMY: 34.407,
        SCORE_ENEMY_LAND: 32.318,
        SCORE_EXPANSION: 19.513,
        SCORE_HILL: 27.864,
        SCORE_LOOKAHEAD_BASE: 330.709,
        SCORE_LOOKAHEAD_TOWN: 80.396,
        SCORE_TOWN: 142.472,
        SCORE_WIN_CONDITION: 4136.175,
        STRATEGY_BASE_UPGRADE_BONUS: 30.802,
        STRATEGY_EARLY_EXPANSION_BONUS: 12.46,
        STRATEGY_EARLY_FARM_BONUS: 25.723,
        STRATEGY_EARLY_TURN_LIMIT: 3.586,
        STRATEGY_ENDGAME_ATTACK_BONUS: 55.675,
        STRATEGY_ENDGAME_TURN: 9.183,
        STRATEGY_WALL_PRIORITY_BONUS: 83.825,
    }
};

export const RandomAiProfiles: AIProfile[] = [
    EvolvedProfile1,
    EvolvedProfile2,
    EvolvedProfile3,
    EvolvedProfile4
];

export const DefaultAIProfile: AIProfile = EvolvedProfile1;

export const mergeAIWeights = (overrides?: Partial<AIWeights>): AIWeights => {
    return {
        ...DefaultAIWeights,
        ...(overrides || {})
    };
};
