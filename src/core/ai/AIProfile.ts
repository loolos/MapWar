import { AIConfig } from '../AIConfig';

export type AIWeights = {
    SCORE_BASE_VALUE: number;
    SCORE_WIN_CONDITION: number;
    SCORE_TOWN: number;
    SCORE_ENEMY_LAND: number;
    SCORE_DISCONNECT_ENEMY: number;
    SCORE_DEFEND_BASE: number;
    SCORE_HILL: number;
    SCORE_BRIDGE: number;
    SCORE_EXPANSION: number;
    SCORE_AURA_MULTIPLIER: number;
    COST_PENALTY_MULTIPLIER: number;
    SCORE_LOOKAHEAD_TOWN: number;
    SCORE_LOOKAHEAD_BASE: number;
    STRATEGY_EARLY_TURN_LIMIT: number;
    STRATEGY_EARLY_EXPANSION_BONUS: number;
    STRATEGY_EARLY_FARM_BONUS: number;
    STRATEGY_BASE_UPGRADE_BONUS: number;
    STRATEGY_WALL_PRIORITY_BONUS: number;
    STRATEGY_ENDGAME_TURN: number;
    STRATEGY_ENDGAME_ATTACK_BONUS: number;
    SAVE_FOR_TARGET_MAX_TURNS: number;
    SAVE_FOR_TARGET_MIN_SCORE: number;
    ECONOMY_FARM_INCOME_TARGET_RATIO: number;
    ECONOMY_FARM_BALANCE_BONUS: number;
    ECONOMY_BASE_BALANCE_BONUS: number;
    ECONOMY_BASE_INCOME: number;
    ECONOMY_BASE_INCOME_LEVEL: number;
    ECONOMY_FARM_BUILD: number;
    ECONOMY_FARM_UPGRADE: number;
    ECONOMY_FARM_LEVEL: number;
    ECONOMY_AURA_BONUS_MULT: number;
    DEFENSE_BASE_UPGRADE: number;
    DEFENSE_WALL_BUILD: number;
    DEFENSE_WALL_UPGRADE: number;
    DEFENSE_WATCHTOWER_BUILD: number;
    DEFENSE_WATCHTOWER_UPGRADE: number;
    DEFENSE_THREAT_MULT: number;
    DEFENSE_BASE_THREAT_RADIUS: number;
    DEFENSE_BASE_THREAT_SCORE: number;
    RECONNECT_DISCONNECTED_SCORE: number;
    RECONNECT_MULTI_BONUS: number;
    RISK_ENEMY_ADJACENT_PENALTY: number;
    MAX_MOVES_PER_TURN: number;
    RANDOM_NOISE: number;
};

export type AIProfile = {
    id: string;
    label?: string;
    weights?: Partial<AIWeights>;
};

export const DefaultAIWeights: AIWeights = {
    SCORE_BASE_VALUE: AIConfig.SCORE_BASE_VALUE,
    SCORE_WIN_CONDITION: AIConfig.SCORE_WIN_CONDITION,
    SCORE_TOWN: AIConfig.SCORE_TOWN,
    SCORE_ENEMY_LAND: AIConfig.SCORE_ENEMY_LAND,
    SCORE_DISCONNECT_ENEMY: AIConfig.SCORE_DISCONNECT_ENEMY,
    SCORE_DEFEND_BASE: AIConfig.SCORE_DEFEND_BASE,
    SCORE_HILL: AIConfig.SCORE_HILL,
    SCORE_BRIDGE: AIConfig.SCORE_BRIDGE,
    SCORE_EXPANSION: AIConfig.SCORE_EXPANSION,
    SCORE_AURA_MULTIPLIER: AIConfig.SCORE_AURA_MULTIPLIER,
    COST_PENALTY_MULTIPLIER: AIConfig.COST_PENALTY_MULTIPLIER,
    SCORE_LOOKAHEAD_TOWN: AIConfig.SCORE_LOOKAHEAD_TOWN,
    SCORE_LOOKAHEAD_BASE: AIConfig.SCORE_LOOKAHEAD_BASE,
    STRATEGY_EARLY_TURN_LIMIT: AIConfig.STRATEGY_EARLY_TURN_LIMIT,
    STRATEGY_EARLY_EXPANSION_BONUS: AIConfig.STRATEGY_EARLY_EXPANSION_BONUS,
    STRATEGY_EARLY_FARM_BONUS: AIConfig.STRATEGY_EARLY_FARM_BONUS,
    STRATEGY_BASE_UPGRADE_BONUS: AIConfig.STRATEGY_BASE_UPGRADE_BONUS,
    STRATEGY_WALL_PRIORITY_BONUS: AIConfig.STRATEGY_WALL_PRIORITY_BONUS,
    STRATEGY_ENDGAME_TURN: AIConfig.STRATEGY_ENDGAME_TURN,
    STRATEGY_ENDGAME_ATTACK_BONUS: AIConfig.STRATEGY_ENDGAME_ATTACK_BONUS,
    SAVE_FOR_TARGET_MAX_TURNS: AIConfig.SAVE_FOR_TARGET_MAX_TURNS,
    SAVE_FOR_TARGET_MIN_SCORE: AIConfig.SAVE_FOR_TARGET_MIN_SCORE,
    ECONOMY_FARM_INCOME_TARGET_RATIO: AIConfig.ECONOMY_FARM_INCOME_TARGET_RATIO,
    ECONOMY_FARM_BALANCE_BONUS: AIConfig.ECONOMY_FARM_BALANCE_BONUS,
    ECONOMY_BASE_BALANCE_BONUS: AIConfig.ECONOMY_BASE_BALANCE_BONUS,
    ECONOMY_BASE_INCOME: AIConfig.ECONOMY_BASE_INCOME,
    ECONOMY_BASE_INCOME_LEVEL: AIConfig.ECONOMY_BASE_INCOME_LEVEL,
    ECONOMY_FARM_BUILD: AIConfig.ECONOMY_FARM_BUILD,
    ECONOMY_FARM_UPGRADE: AIConfig.ECONOMY_FARM_UPGRADE,
    ECONOMY_FARM_LEVEL: AIConfig.ECONOMY_FARM_LEVEL,
    ECONOMY_AURA_BONUS_MULT: AIConfig.ECONOMY_AURA_BONUS_MULT,
    DEFENSE_BASE_UPGRADE: AIConfig.DEFENSE_BASE_UPGRADE,
    DEFENSE_WALL_BUILD: AIConfig.DEFENSE_WALL_BUILD,
    DEFENSE_WALL_UPGRADE: AIConfig.DEFENSE_WALL_UPGRADE,
    DEFENSE_WATCHTOWER_BUILD: AIConfig.DEFENSE_WATCHTOWER_BUILD,
    DEFENSE_WATCHTOWER_UPGRADE: AIConfig.DEFENSE_WATCHTOWER_UPGRADE,
    DEFENSE_THREAT_MULT: AIConfig.DEFENSE_THREAT_MULT,
    DEFENSE_BASE_THREAT_RADIUS: AIConfig.DEFENSE_BASE_THREAT_RADIUS,
    DEFENSE_BASE_THREAT_SCORE: AIConfig.DEFENSE_BASE_THREAT_SCORE,
    RECONNECT_DISCONNECTED_SCORE: AIConfig.RECONNECT_DISCONNECTED_SCORE,
    RECONNECT_MULTI_BONUS: AIConfig.RECONNECT_MULTI_BONUS,
    RISK_ENEMY_ADJACENT_PENALTY: AIConfig.RISK_ENEMY_ADJACENT_PENALTY,
    MAX_MOVES_PER_TURN: AIConfig.MAX_MOVES_PER_TURN,
    RANDOM_NOISE: AIConfig.RANDOM_NOISE
};

export const EvolvedProfile1: AIProfile = {
    id: 'evolved_1769040430570_1',
    label: 'Raider Yara',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.52,
        DEFENSE_BASE_THREAT_RADIUS: 1.726,
        DEFENSE_BASE_THREAT_SCORE: 180.148,
        DEFENSE_BASE_UPGRADE: 30.542,
        DEFENSE_THREAT_MULT: 44.782,
        DEFENSE_WALL_BUILD: 131.826,
        DEFENSE_WALL_UPGRADE: 267.678,
        DEFENSE_WATCHTOWER_BUILD: 13.734,
        DEFENSE_WATCHTOWER_UPGRADE: 64.763,
        ECONOMY_AURA_BONUS_MULT: 110.56,
        ECONOMY_BASE_BALANCE_BONUS: 22.482,
        ECONOMY_BASE_INCOME: 200.597,
        ECONOMY_BASE_INCOME_LEVEL: 28.26,
        ECONOMY_FARM_BALANCE_BONUS: 19.071,
        ECONOMY_FARM_BUILD: 80.81,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.322,
        ECONOMY_FARM_LEVEL: 78.084,
        ECONOMY_FARM_UPGRADE: 220.588,
        MAX_MOVES_PER_TURN: 33,
        RANDOM_NOISE: 21.345,
        RECONNECT_DISCONNECTED_SCORE: 40.419,
        RECONNECT_MULTI_BONUS: 26.009,
        RISK_ENEMY_ADJACENT_PENALTY: 96.385,
        SAVE_FOR_TARGET_MAX_TURNS: 3.831,
        SAVE_FOR_TARGET_MIN_SCORE: 400.104,
        SCORE_AURA_MULTIPLIER: 318.049,
        SCORE_BASE_VALUE: 12.788,
        SCORE_BRIDGE: 32.305,
        SCORE_DEFEND_BASE: 744.151,
        SCORE_DISCONNECT_ENEMY: 35.999,
        SCORE_ENEMY_LAND: 43.85,
        SCORE_EXPANSION: 15.388,
        SCORE_HILL: 28.861,
        SCORE_LOOKAHEAD_BASE: 376.421,
        SCORE_LOOKAHEAD_TOWN: 55.969,
        SCORE_TOWN: 174.646,
        SCORE_WIN_CONDITION: 5307.599,
        STRATEGY_BASE_UPGRADE_BONUS: 31.27,
        STRATEGY_EARLY_EXPANSION_BONUS: 6.893,
        STRATEGY_EARLY_FARM_BONUS: 55.571,
        STRATEGY_EARLY_TURN_LIMIT: 4.319,
        STRATEGY_ENDGAME_ATTACK_BONUS: 118.014,
        STRATEGY_ENDGAME_TURN: 6.422,
        STRATEGY_WALL_PRIORITY_BONUS: 53.025,
    }
};

export const EvolvedProfile2: AIProfile = {
    id: 'evolved_1769040430570_2',
    label: 'Citizen Rose',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.354,
        DEFENSE_BASE_THREAT_RADIUS: 1.903,
        DEFENSE_BASE_THREAT_SCORE: 164.753,
        DEFENSE_BASE_UPGRADE: 35.46,
        DEFENSE_THREAT_MULT: 46.119,
        DEFENSE_WALL_BUILD: 141.41,
        DEFENSE_WALL_UPGRADE: 233.503,
        DEFENSE_WATCHTOWER_BUILD: 18.215,
        DEFENSE_WATCHTOWER_UPGRADE: 76.019,
        ECONOMY_AURA_BONUS_MULT: 117.279,
        ECONOMY_BASE_BALANCE_BONUS: 25.101,
        ECONOMY_BASE_INCOME: 197.776,
        ECONOMY_BASE_INCOME_LEVEL: 29.574,
        ECONOMY_FARM_BALANCE_BONUS: 23.017,
        ECONOMY_FARM_BUILD: 82.155,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.518,
        ECONOMY_FARM_LEVEL: 61.556,
        ECONOMY_FARM_UPGRADE: 253.2,
        MAX_MOVES_PER_TURN: 33.109,
        RANDOM_NOISE: 21.211,
        RECONNECT_DISCONNECTED_SCORE: 42.403,
        RECONNECT_MULTI_BONUS: 27.777,
        RISK_ENEMY_ADJACENT_PENALTY: 91.248,
        SAVE_FOR_TARGET_MAX_TURNS: 4.068,
        SAVE_FOR_TARGET_MIN_SCORE: 364.961,
        SCORE_AURA_MULTIPLIER: 286.547,
        SCORE_BASE_VALUE: 11.203,
        SCORE_BRIDGE: 28.481,
        SCORE_DEFEND_BASE: 750.501,
        SCORE_DISCONNECT_ENEMY: 40.573,
        SCORE_ENEMY_LAND: 40.478,
        SCORE_EXPANSION: 13.098,
        SCORE_HILL: 35.738,
        SCORE_LOOKAHEAD_BASE: 248.98,
        SCORE_LOOKAHEAD_TOWN: 53.114,
        SCORE_TOWN: 224.504,
        SCORE_WIN_CONDITION: 5824.879,
        STRATEGY_BASE_UPGRADE_BONUS: 38.168,
        STRATEGY_EARLY_EXPANSION_BONUS: 8.031,
        STRATEGY_EARLY_FARM_BONUS: 51.402,
        STRATEGY_EARLY_TURN_LIMIT: 5.479,
        STRATEGY_ENDGAME_ATTACK_BONUS: 106.763,
        STRATEGY_ENDGAME_TURN: 6.75,
        STRATEGY_WALL_PRIORITY_BONUS: 44.263,
    }
};

export const EvolvedProfile3: AIProfile = {
    id: 'evolved_1769040430570_3',
    label: 'Beacon Rose',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.547,
        DEFENSE_BASE_THREAT_RADIUS: 1.891,
        DEFENSE_BASE_THREAT_SCORE: 172.153,
        DEFENSE_BASE_UPGRADE: 30.838,
        DEFENSE_THREAT_MULT: 42.201,
        DEFENSE_WALL_BUILD: 125.136,
        DEFENSE_WALL_UPGRADE: 255.353,
        DEFENSE_WATCHTOWER_BUILD: 14.487,
        DEFENSE_WATCHTOWER_UPGRADE: 63.005,
        ECONOMY_AURA_BONUS_MULT: 114.271,
        ECONOMY_BASE_BALANCE_BONUS: 21.316,
        ECONOMY_BASE_INCOME: 195.995,
        ECONOMY_BASE_INCOME_LEVEL: 26.091,
        ECONOMY_FARM_BALANCE_BONUS: 19.401,
        ECONOMY_FARM_BUILD: 88.68,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.311,
        ECONOMY_FARM_LEVEL: 83.245,
        ECONOMY_FARM_UPGRADE: 212.465,
        MAX_MOVES_PER_TURN: 30.208,
        RANDOM_NOISE: 22.397,
        RECONNECT_DISCONNECTED_SCORE: 38.678,
        RECONNECT_MULTI_BONUS: 27.548,
        RISK_ENEMY_ADJACENT_PENALTY: 93.746,
        SAVE_FOR_TARGET_MAX_TURNS: 3.996,
        SAVE_FOR_TARGET_MIN_SCORE: 424.851,
        SCORE_AURA_MULTIPLIER: 305.064,
        SCORE_BASE_VALUE: 12.18,
        SCORE_BRIDGE: 30.34,
        SCORE_DEFEND_BASE: 795.739,
        SCORE_DISCONNECT_ENEMY: 35.158,
        SCORE_ENEMY_LAND: 41.204,
        SCORE_EXPANSION: 14.679,
        SCORE_HILL: 29.46,
        SCORE_LOOKAHEAD_BASE: 342.6,
        SCORE_LOOKAHEAD_TOWN: 56.253,
        SCORE_TOWN: 187.647,
        SCORE_WIN_CONDITION: 5237.878,
        STRATEGY_BASE_UPGRADE_BONUS: 33.487,
        STRATEGY_EARLY_EXPANSION_BONUS: 7.278,
        STRATEGY_EARLY_FARM_BONUS: 53.443,
        STRATEGY_EARLY_TURN_LIMIT: 4.067,
        STRATEGY_ENDGAME_ATTACK_BONUS: 114.585,
        STRATEGY_ENDGAME_TURN: 6.274,
        STRATEGY_WALL_PRIORITY_BONUS: 58.637,
    }
};

export const EvolvedProfile4: AIProfile = {
    id: 'evolved_1769040430570_4',
    label: 'Merchant Bob',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.59,
        DEFENSE_BASE_THREAT_RADIUS: 1.862,
        DEFENSE_BASE_THREAT_SCORE: 187.461,
        DEFENSE_BASE_UPGRADE: 29.061,
        DEFENSE_THREAT_MULT: 41.852,
        DEFENSE_WALL_BUILD: 121.867,
        DEFENSE_WALL_UPGRADE: 230.298,
        DEFENSE_WATCHTOWER_BUILD: 14.173,
        DEFENSE_WATCHTOWER_UPGRADE: 63.392,
        ECONOMY_AURA_BONUS_MULT: 108.429,
        ECONOMY_BASE_BALANCE_BONUS: 22.485,
        ECONOMY_BASE_INCOME: 214.245,
        ECONOMY_BASE_INCOME_LEVEL: 25.624,
        ECONOMY_FARM_BALANCE_BONUS: 19.098,
        ECONOMY_FARM_BUILD: 84.113,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.357,
        ECONOMY_FARM_LEVEL: 88.386,
        ECONOMY_FARM_UPGRADE: 224.992,
        MAX_MOVES_PER_TURN: 27.238,
        RANDOM_NOISE: 23.229,
        RECONNECT_DISCONNECTED_SCORE: 36.866,
        RECONNECT_MULTI_BONUS: 27.778,
        RISK_ENEMY_ADJACENT_PENALTY: 101.141,
        SAVE_FOR_TARGET_MAX_TURNS: 4.172,
        SAVE_FOR_TARGET_MIN_SCORE: 406.216,
        SCORE_AURA_MULTIPLIER: 296.835,
        SCORE_BASE_VALUE: 11.391,
        SCORE_BRIDGE: 33.311,
        SCORE_DEFEND_BASE: 801.421,
        SCORE_DISCONNECT_ENEMY: 37.392,
        SCORE_ENEMY_LAND: 38.747,
        SCORE_EXPANSION: 15.637,
        SCORE_HILL: 27.318,
        SCORE_LOOKAHEAD_BASE: 352.053,
        SCORE_LOOKAHEAD_TOWN: 61.428,
        SCORE_TOWN: 195.055,
        SCORE_WIN_CONDITION: 5117.635,
        STRATEGY_BASE_UPGRADE_BONUS: 34.094,
        STRATEGY_EARLY_EXPANSION_BONUS: 7.442,
        STRATEGY_EARLY_FARM_BONUS: 48.121,
        STRATEGY_EARLY_TURN_LIMIT: 3.989,
        STRATEGY_ENDGAME_ATTACK_BONUS: 115.957,
        STRATEGY_ENDGAME_TURN: 6.299,
        STRATEGY_WALL_PRIORITY_BONUS: 62.162,
    }
};

export const RandomAiProfiles: AIProfile[] = [
    EvolvedProfile1,
    EvolvedProfile2,
    EvolvedProfile3,
    EvolvedProfile4
];

export const DefaultAIProfile: AIProfile = EvolvedProfile1;

export const mergeAIWeights = (overrides?: Partial<AIWeights>): AIWeights => {
    return {
        ...DefaultAIWeights,
        ...(overrides || {})
    };
};
