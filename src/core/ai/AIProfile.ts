import { AIConfig } from '../AIConfig';

export type AIWeights = {
    SCORE_BASE_VALUE: number;
    SCORE_WIN_CONDITION: number;
    SCORE_TOWN: number;
    SCORE_ENEMY_LAND: number;
    SCORE_DISCONNECT_ENEMY: number;
    SCORE_DEFEND_BASE: number;
    SCORE_HILL: number;
    SCORE_BRIDGE: number;
    SCORE_EXPANSION: number;
    SCORE_AURA_MULTIPLIER: number;
    COST_PENALTY_MULTIPLIER: number;
    SCORE_LOOKAHEAD_TOWN: number;
    SCORE_LOOKAHEAD_BASE: number;
    STRATEGY_EARLY_TURN_LIMIT: number;
    STRATEGY_EARLY_EXPANSION_BONUS: number;
    STRATEGY_EARLY_FARM_BONUS: number;
    STRATEGY_BASE_UPGRADE_BONUS: number;
    STRATEGY_WALL_PRIORITY_BONUS: number;
    STRATEGY_ENDGAME_TURN: number;
    STRATEGY_ENDGAME_ATTACK_BONUS: number;
    SAVE_FOR_TARGET_MAX_TURNS: number;
    SAVE_FOR_TARGET_MIN_SCORE: number;
    ECONOMY_FARM_INCOME_TARGET_RATIO: number;
    ECONOMY_FARM_BALANCE_BONUS: number;
    ECONOMY_BASE_BALANCE_BONUS: number;
    ECONOMY_BASE_INCOME: number;
    ECONOMY_BASE_INCOME_LEVEL: number;
    ECONOMY_FARM_BUILD: number;
    ECONOMY_FARM_UPGRADE: number;
    ECONOMY_FARM_LEVEL: number;
    ECONOMY_AURA_BONUS_MULT: number;
    DEFENSE_BASE_UPGRADE: number;
    DEFENSE_WALL_BUILD: number;
    DEFENSE_WALL_UPGRADE: number;
    DEFENSE_WATCHTOWER_BUILD: number;
    DEFENSE_WATCHTOWER_UPGRADE: number;
    DEFENSE_THREAT_MULT: number;
    DEFENSE_BASE_THREAT_RADIUS: number;
    DEFENSE_BASE_THREAT_SCORE: number;
    RECONNECT_DISCONNECTED_SCORE: number;
    RECONNECT_MULTI_BONUS: number;
    RISK_ENEMY_ADJACENT_PENALTY: number;
    MAX_MOVES_PER_TURN: number;
    RANDOM_NOISE: number;
};

export type AIProfile = {
    id: string;
    label?: string;
    weights?: Partial<AIWeights>;
};

export const DefaultAIWeights: AIWeights = {
    SCORE_BASE_VALUE: AIConfig.SCORE_BASE_VALUE,
    SCORE_WIN_CONDITION: AIConfig.SCORE_WIN_CONDITION,
    SCORE_TOWN: AIConfig.SCORE_TOWN,
    SCORE_ENEMY_LAND: AIConfig.SCORE_ENEMY_LAND,
    SCORE_DISCONNECT_ENEMY: AIConfig.SCORE_DISCONNECT_ENEMY,
    SCORE_DEFEND_BASE: AIConfig.SCORE_DEFEND_BASE,
    SCORE_HILL: AIConfig.SCORE_HILL,
    SCORE_BRIDGE: AIConfig.SCORE_BRIDGE,
    SCORE_EXPANSION: AIConfig.SCORE_EXPANSION,
    SCORE_AURA_MULTIPLIER: AIConfig.SCORE_AURA_MULTIPLIER,
    COST_PENALTY_MULTIPLIER: AIConfig.COST_PENALTY_MULTIPLIER,
    SCORE_LOOKAHEAD_TOWN: AIConfig.SCORE_LOOKAHEAD_TOWN,
    SCORE_LOOKAHEAD_BASE: AIConfig.SCORE_LOOKAHEAD_BASE,
    STRATEGY_EARLY_TURN_LIMIT: AIConfig.STRATEGY_EARLY_TURN_LIMIT,
    STRATEGY_EARLY_EXPANSION_BONUS: AIConfig.STRATEGY_EARLY_EXPANSION_BONUS,
    STRATEGY_EARLY_FARM_BONUS: AIConfig.STRATEGY_EARLY_FARM_BONUS,
    STRATEGY_BASE_UPGRADE_BONUS: AIConfig.STRATEGY_BASE_UPGRADE_BONUS,
    STRATEGY_WALL_PRIORITY_BONUS: AIConfig.STRATEGY_WALL_PRIORITY_BONUS,
    STRATEGY_ENDGAME_TURN: AIConfig.STRATEGY_ENDGAME_TURN,
    STRATEGY_ENDGAME_ATTACK_BONUS: AIConfig.STRATEGY_ENDGAME_ATTACK_BONUS,
    SAVE_FOR_TARGET_MAX_TURNS: AIConfig.SAVE_FOR_TARGET_MAX_TURNS,
    SAVE_FOR_TARGET_MIN_SCORE: AIConfig.SAVE_FOR_TARGET_MIN_SCORE,
    ECONOMY_FARM_INCOME_TARGET_RATIO: AIConfig.ECONOMY_FARM_INCOME_TARGET_RATIO,
    ECONOMY_FARM_BALANCE_BONUS: AIConfig.ECONOMY_FARM_BALANCE_BONUS,
    ECONOMY_BASE_BALANCE_BONUS: AIConfig.ECONOMY_BASE_BALANCE_BONUS,
    ECONOMY_BASE_INCOME: AIConfig.ECONOMY_BASE_INCOME,
    ECONOMY_BASE_INCOME_LEVEL: AIConfig.ECONOMY_BASE_INCOME_LEVEL,
    ECONOMY_FARM_BUILD: AIConfig.ECONOMY_FARM_BUILD,
    ECONOMY_FARM_UPGRADE: AIConfig.ECONOMY_FARM_UPGRADE,
    ECONOMY_FARM_LEVEL: AIConfig.ECONOMY_FARM_LEVEL,
    ECONOMY_AURA_BONUS_MULT: AIConfig.ECONOMY_AURA_BONUS_MULT,
    DEFENSE_BASE_UPGRADE: AIConfig.DEFENSE_BASE_UPGRADE,
    DEFENSE_WALL_BUILD: AIConfig.DEFENSE_WALL_BUILD,
    DEFENSE_WALL_UPGRADE: AIConfig.DEFENSE_WALL_UPGRADE,
    DEFENSE_WATCHTOWER_BUILD: AIConfig.DEFENSE_WATCHTOWER_BUILD,
    DEFENSE_WATCHTOWER_UPGRADE: AIConfig.DEFENSE_WATCHTOWER_UPGRADE,
    DEFENSE_THREAT_MULT: AIConfig.DEFENSE_THREAT_MULT,
    DEFENSE_BASE_THREAT_RADIUS: AIConfig.DEFENSE_BASE_THREAT_RADIUS,
    DEFENSE_BASE_THREAT_SCORE: AIConfig.DEFENSE_BASE_THREAT_SCORE,
    RECONNECT_DISCONNECTED_SCORE: AIConfig.RECONNECT_DISCONNECTED_SCORE,
    RECONNECT_MULTI_BONUS: AIConfig.RECONNECT_MULTI_BONUS,
    RISK_ENEMY_ADJACENT_PENALTY: AIConfig.RISK_ENEMY_ADJACENT_PENALTY,
    MAX_MOVES_PER_TURN: AIConfig.MAX_MOVES_PER_TURN,
    RANDOM_NOISE: AIConfig.RANDOM_NOISE
};

export const EvolvedProfile1: AIProfile = {
    id: 'evolved_1768971885028_1',
    label: 'Influencer Nat',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.172,
        DEFENSE_BASE_THREAT_RADIUS: 2.502,
        DEFENSE_BASE_THREAT_SCORE: 122.291,
        DEFENSE_BASE_UPGRADE: 45.268,
        DEFENSE_THREAT_MULT: 41.275,
        DEFENSE_WALL_BUILD: 80.69,
        DEFENSE_WALL_UPGRADE: 330.557,
        DEFENSE_WATCHTOWER_BUILD: 32.719,
        DEFENSE_WATCHTOWER_UPGRADE: 72.57,
        ECONOMY_AURA_BONUS_MULT: 59.573,
        ECONOMY_BASE_BALANCE_BONUS: 24.215,
        ECONOMY_BASE_INCOME: 162.275,
        ECONOMY_BASE_INCOME_LEVEL: 16.59,
        ECONOMY_FARM_BALANCE_BONUS: 25.016,
        ECONOMY_FARM_BUILD: 74.388,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 0.695,
        ECONOMY_FARM_LEVEL: 63.584,
        ECONOMY_FARM_UPGRADE: 157.147,
        MAX_MOVES_PER_TURN: 21.243,
        RANDOM_NOISE: 13.34,
        RECONNECT_DISCONNECTED_SCORE: 27.626,
        RECONNECT_MULTI_BONUS: 25.122,
        RISK_ENEMY_ADJACENT_PENALTY: 128.83,
        SAVE_FOR_TARGET_MAX_TURNS: 3.972,
        SAVE_FOR_TARGET_MIN_SCORE: 169.99,
        SCORE_AURA_MULTIPLIER: 414.955,
        SCORE_BASE_VALUE: 9.56,
        SCORE_BRIDGE: 39.674,
        SCORE_DEFEND_BASE: 1202.949,
        SCORE_DISCONNECT_ENEMY: 33.129,
        SCORE_ENEMY_LAND: 29.173,
        SCORE_EXPANSION: 14.978,
        SCORE_HILL: 29.254,
        SCORE_LOOKAHEAD_BASE: 314.675,
        SCORE_LOOKAHEAD_TOWN: 82.323,
        SCORE_TOWN: 145.634,
        SCORE_WIN_CONDITION: 4599.714,
        STRATEGY_BASE_UPGRADE_BONUS: 33.444,
        STRATEGY_EARLY_EXPANSION_BONUS: 12.144,
        STRATEGY_EARLY_FARM_BONUS: 25.467,
        STRATEGY_EARLY_TURN_LIMIT: 4.256,
        STRATEGY_ENDGAME_ATTACK_BONUS: 47.545,
        STRATEGY_ENDGAME_TURN: 10.75,
        STRATEGY_WALL_PRIORITY_BONUS: 76.785,
    }
};

export const EvolvedProfile2: AIProfile = {
    id: 'evolved_1768971885028_2',
    label: 'Citizen Frank',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.374,
        DEFENSE_BASE_THREAT_RADIUS: 1.952,
        DEFENSE_BASE_THREAT_SCORE: 176.562,
        DEFENSE_BASE_UPGRADE: 31.674,
        DEFENSE_THREAT_MULT: 44.579,
        DEFENSE_WALL_BUILD: 128.412,
        DEFENSE_WALL_UPGRADE: 208.593,
        DEFENSE_WATCHTOWER_BUILD: 14.006,
        DEFENSE_WATCHTOWER_UPGRADE: 85.115,
        ECONOMY_AURA_BONUS_MULT: 92.403,
        ECONOMY_BASE_BALANCE_BONUS: 23.399,
        ECONOMY_BASE_INCOME: 211.418,
        ECONOMY_BASE_INCOME_LEVEL: 25.211,
        ECONOMY_FARM_BALANCE_BONUS: 19.36,
        ECONOMY_FARM_BUILD: 82.773,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.141,
        ECONOMY_FARM_LEVEL: 76.973,
        ECONOMY_FARM_UPGRADE: 221.772,
        MAX_MOVES_PER_TURN: 32.643,
        RANDOM_NOISE: 18.268,
        RECONNECT_DISCONNECTED_SCORE: 34.411,
        RECONNECT_MULTI_BONUS: 22.695,
        RISK_ENEMY_ADJACENT_PENALTY: 112.356,
        SAVE_FOR_TARGET_MAX_TURNS: 4.113,
        SAVE_FOR_TARGET_MIN_SCORE: 327.35,
        SCORE_AURA_MULTIPLIER: 330.144,
        SCORE_BASE_VALUE: 11.819,
        SCORE_BRIDGE: 27.982,
        SCORE_DEFEND_BASE: 858.161,
        SCORE_DISCONNECT_ENEMY: 31.714,
        SCORE_ENEMY_LAND: 41.889,
        SCORE_EXPANSION: 12.65,
        SCORE_HILL: 30.734,
        SCORE_LOOKAHEAD_BASE: 296.512,
        SCORE_LOOKAHEAD_TOWN: 57.296,
        SCORE_TOWN: 199.705,
        SCORE_WIN_CONDITION: 5178.625,
        STRATEGY_BASE_UPGRADE_BONUS: 30.974,
        STRATEGY_EARLY_EXPANSION_BONUS: 7.524,
        STRATEGY_EARLY_FARM_BONUS: 45.839,
        STRATEGY_EARLY_TURN_LIMIT: 4.391,
        STRATEGY_ENDGAME_ATTACK_BONUS: 105.102,
        STRATEGY_ENDGAME_TURN: 6.39,
        STRATEGY_WALL_PRIORITY_BONUS: 56.265,
    }
};

export const EvolvedProfile3: AIProfile = {
    id: 'evolved_1768971885028_3',
    label: 'Farmer Tom',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.478,
        DEFENSE_BASE_THREAT_RADIUS: 2.023,
        DEFENSE_BASE_THREAT_SCORE: 180.096,
        DEFENSE_BASE_UPGRADE: 35.861,
        DEFENSE_THREAT_MULT: 46.529,
        DEFENSE_WALL_BUILD: 126.33,
        DEFENSE_WALL_UPGRADE: 187.097,
        DEFENSE_WATCHTOWER_BUILD: 13.901,
        DEFENSE_WATCHTOWER_UPGRADE: 96.361,
        ECONOMY_AURA_BONUS_MULT: 90.938,
        ECONOMY_BASE_BALANCE_BONUS: 22.644,
        ECONOMY_BASE_INCOME: 214.02,
        ECONOMY_BASE_INCOME_LEVEL: 23.518,
        ECONOMY_FARM_BALANCE_BONUS: 18.738,
        ECONOMY_FARM_BUILD: 89.425,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.189,
        ECONOMY_FARM_LEVEL: 77.598,
        ECONOMY_FARM_UPGRADE: 257.23,
        MAX_MOVES_PER_TURN: 30.182,
        RANDOM_NOISE: 19.67,
        RECONNECT_DISCONNECTED_SCORE: 33.094,
        RECONNECT_MULTI_BONUS: 22.678,
        RISK_ENEMY_ADJACENT_PENALTY: 126.009,
        SAVE_FOR_TARGET_MAX_TURNS: 3.705,
        SAVE_FOR_TARGET_MIN_SCORE: 367.929,
        SCORE_AURA_MULTIPLIER: 285.693,
        SCORE_BASE_VALUE: 9.838,
        SCORE_BRIDGE: 28.884,
        SCORE_DEFEND_BASE: 839.052,
        SCORE_DISCONNECT_ENEMY: 36.303,
        SCORE_ENEMY_LAND: 41.695,
        SCORE_EXPANSION: 12.639,
        SCORE_HILL: 30.965,
        SCORE_LOOKAHEAD_BASE: 334.962,
        SCORE_LOOKAHEAD_TOWN: 60.044,
        SCORE_TOWN: 184.771,
        SCORE_WIN_CONDITION: 4461.035,
        STRATEGY_BASE_UPGRADE_BONUS: 30.684,
        STRATEGY_EARLY_EXPANSION_BONUS: 7.668,
        STRATEGY_EARLY_FARM_BONUS: 51.195,
        STRATEGY_EARLY_TURN_LIMIT: 4.369,
        STRATEGY_ENDGAME_ATTACK_BONUS: 90.935,
        STRATEGY_ENDGAME_TURN: 7.366,
        STRATEGY_WALL_PRIORITY_BONUS: 52.099,
    }
};

export const EvolvedProfile4: AIProfile = {
    id: 'evolved_1768971885028_4',
    label: 'Settler Olivia',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.132,
        DEFENSE_BASE_THREAT_RADIUS: 2.224,
        DEFENSE_BASE_THREAT_SCORE: 131.593,
        DEFENSE_BASE_UPGRADE: 49.81,
        DEFENSE_THREAT_MULT: 39.63,
        DEFENSE_WALL_BUILD: 91.54,
        DEFENSE_WALL_UPGRADE: 328.279,
        DEFENSE_WATCHTOWER_BUILD: 30.351,
        DEFENSE_WATCHTOWER_UPGRADE: 65.139,
        ECONOMY_AURA_BONUS_MULT: 61.932,
        ECONOMY_BASE_BALANCE_BONUS: 21.288,
        ECONOMY_BASE_INCOME: 156.123,
        ECONOMY_BASE_INCOME_LEVEL: 17.673,
        ECONOMY_FARM_BALANCE_BONUS: 25.252,
        ECONOMY_FARM_BUILD: 71.455,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 0.616,
        ECONOMY_FARM_LEVEL: 53.817,
        ECONOMY_FARM_UPGRADE: 179.884,
        MAX_MOVES_PER_TURN: 19.473,
        RANDOM_NOISE: 13.384,
        RECONNECT_DISCONNECTED_SCORE: 35.473,
        RECONNECT_MULTI_BONUS: 29.994,
        RISK_ENEMY_ADJACENT_PENALTY: 119.163,
        SAVE_FOR_TARGET_MAX_TURNS: 3.765,
        SAVE_FOR_TARGET_MIN_SCORE: 181.528,
        SCORE_AURA_MULTIPLIER: 353.804,
        SCORE_BASE_VALUE: 9.297,
        SCORE_BRIDGE: 39.312,
        SCORE_DEFEND_BASE: 1167.854,
        SCORE_DISCONNECT_ENEMY: 38.788,
        SCORE_ENEMY_LAND: 34.719,
        SCORE_EXPANSION: 17.304,
        SCORE_HILL: 30.391,
        SCORE_LOOKAHEAD_BASE: 318.044,
        SCORE_LOOKAHEAD_TOWN: 79.152,
        SCORE_TOWN: 140.699,
        SCORE_WIN_CONDITION: 4505.909,
        STRATEGY_BASE_UPGRADE_BONUS: 31.157,
        STRATEGY_EARLY_EXPANSION_BONUS: 12.482,
        STRATEGY_EARLY_FARM_BONUS: 27.107,
        STRATEGY_EARLY_TURN_LIMIT: 4.059,
        STRATEGY_ENDGAME_ATTACK_BONUS: 44.21,
        STRATEGY_ENDGAME_TURN: 8.931,
        STRATEGY_WALL_PRIORITY_BONUS: 79.022,
    }
};

export const RandomAiProfiles: AIProfile[] = [
    EvolvedProfile1,
    EvolvedProfile2,
    EvolvedProfile3,
    EvolvedProfile4
];

export const DefaultAIProfile: AIProfile = EvolvedProfile1;

export const mergeAIWeights = (overrides?: Partial<AIWeights>): AIWeights => {
    return {
        ...DefaultAIWeights,
        ...(overrides || {})
    };
};
