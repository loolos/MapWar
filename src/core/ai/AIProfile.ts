import { AIConfig } from '../AIConfig';

export type AIWeights = {
    SCORE_BASE_VALUE: number;
    SCORE_WIN_CONDITION: number;
    SCORE_TOWN: number;
    SCORE_ENEMY_LAND: number;
    SCORE_DISCONNECT_ENEMY: number;
    SCORE_DEFEND_BASE: number;
    SCORE_HILL: number;
    SCORE_BRIDGE: number;
    SCORE_EXPANSION: number;
    SCORE_AURA_MULTIPLIER: number;
    COST_PENALTY_MULTIPLIER: number;
    SCORE_LOOKAHEAD_TOWN: number;
    SCORE_LOOKAHEAD_BASE: number;
    STRATEGY_EARLY_TURN_LIMIT: number;
    STRATEGY_EARLY_EXPANSION_BONUS: number;
    STRATEGY_EARLY_FARM_BONUS: number;
    STRATEGY_BASE_UPGRADE_BONUS: number;
    STRATEGY_WALL_PRIORITY_BONUS: number;
    STRATEGY_ENDGAME_TURN: number;
    STRATEGY_ENDGAME_ATTACK_BONUS: number;
    SAVE_FOR_TARGET_MAX_TURNS: number;
    SAVE_FOR_TARGET_MIN_SCORE: number;
    ECONOMY_FARM_INCOME_TARGET_RATIO: number;
    ECONOMY_FARM_BALANCE_BONUS: number;
    ECONOMY_BASE_BALANCE_BONUS: number;
    ECONOMY_BASE_INCOME: number;
    ECONOMY_BASE_INCOME_LEVEL: number;
    ECONOMY_FARM_BUILD: number;
    ECONOMY_FARM_UPGRADE: number;
    ECONOMY_FARM_LEVEL: number;
    ECONOMY_AURA_BONUS_MULT: number;
    DEFENSE_BASE_UPGRADE: number;
    DEFENSE_WALL_BUILD: number;
    DEFENSE_WALL_UPGRADE: number;
    DEFENSE_WATCHTOWER_BUILD: number;
    DEFENSE_WATCHTOWER_UPGRADE: number;
    DEFENSE_THREAT_MULT: number;
    DEFENSE_BASE_THREAT_RADIUS: number;
    DEFENSE_BASE_THREAT_SCORE: number;
    RECONNECT_DISCONNECTED_SCORE: number;
    RECONNECT_MULTI_BONUS: number;
    RISK_ENEMY_ADJACENT_PENALTY: number;
    MAX_MOVES_PER_TURN: number;
    RANDOM_NOISE: number;
};

export type AIProfile = {
    id: string;
    label?: string;
    weights?: Partial<AIWeights>;
};

export const DefaultAIWeights: AIWeights = {
    SCORE_BASE_VALUE: AIConfig.SCORE_BASE_VALUE,
    SCORE_WIN_CONDITION: AIConfig.SCORE_WIN_CONDITION,
    SCORE_TOWN: AIConfig.SCORE_TOWN,
    SCORE_ENEMY_LAND: AIConfig.SCORE_ENEMY_LAND,
    SCORE_DISCONNECT_ENEMY: AIConfig.SCORE_DISCONNECT_ENEMY,
    SCORE_DEFEND_BASE: AIConfig.SCORE_DEFEND_BASE,
    SCORE_HILL: AIConfig.SCORE_HILL,
    SCORE_BRIDGE: AIConfig.SCORE_BRIDGE,
    SCORE_EXPANSION: AIConfig.SCORE_EXPANSION,
    SCORE_AURA_MULTIPLIER: AIConfig.SCORE_AURA_MULTIPLIER,
    COST_PENALTY_MULTIPLIER: AIConfig.COST_PENALTY_MULTIPLIER,
    SCORE_LOOKAHEAD_TOWN: AIConfig.SCORE_LOOKAHEAD_TOWN,
    SCORE_LOOKAHEAD_BASE: AIConfig.SCORE_LOOKAHEAD_BASE,
    STRATEGY_EARLY_TURN_LIMIT: AIConfig.STRATEGY_EARLY_TURN_LIMIT,
    STRATEGY_EARLY_EXPANSION_BONUS: AIConfig.STRATEGY_EARLY_EXPANSION_BONUS,
    STRATEGY_EARLY_FARM_BONUS: AIConfig.STRATEGY_EARLY_FARM_BONUS,
    STRATEGY_BASE_UPGRADE_BONUS: AIConfig.STRATEGY_BASE_UPGRADE_BONUS,
    STRATEGY_WALL_PRIORITY_BONUS: AIConfig.STRATEGY_WALL_PRIORITY_BONUS,
    STRATEGY_ENDGAME_TURN: AIConfig.STRATEGY_ENDGAME_TURN,
    STRATEGY_ENDGAME_ATTACK_BONUS: AIConfig.STRATEGY_ENDGAME_ATTACK_BONUS,
    SAVE_FOR_TARGET_MAX_TURNS: AIConfig.SAVE_FOR_TARGET_MAX_TURNS,
    SAVE_FOR_TARGET_MIN_SCORE: AIConfig.SAVE_FOR_TARGET_MIN_SCORE,
    ECONOMY_FARM_INCOME_TARGET_RATIO: AIConfig.ECONOMY_FARM_INCOME_TARGET_RATIO,
    ECONOMY_FARM_BALANCE_BONUS: AIConfig.ECONOMY_FARM_BALANCE_BONUS,
    ECONOMY_BASE_BALANCE_BONUS: AIConfig.ECONOMY_BASE_BALANCE_BONUS,
    ECONOMY_BASE_INCOME: AIConfig.ECONOMY_BASE_INCOME,
    ECONOMY_BASE_INCOME_LEVEL: AIConfig.ECONOMY_BASE_INCOME_LEVEL,
    ECONOMY_FARM_BUILD: AIConfig.ECONOMY_FARM_BUILD,
    ECONOMY_FARM_UPGRADE: AIConfig.ECONOMY_FARM_UPGRADE,
    ECONOMY_FARM_LEVEL: AIConfig.ECONOMY_FARM_LEVEL,
    ECONOMY_AURA_BONUS_MULT: AIConfig.ECONOMY_AURA_BONUS_MULT,
    DEFENSE_BASE_UPGRADE: AIConfig.DEFENSE_BASE_UPGRADE,
    DEFENSE_WALL_BUILD: AIConfig.DEFENSE_WALL_BUILD,
    DEFENSE_WALL_UPGRADE: AIConfig.DEFENSE_WALL_UPGRADE,
    DEFENSE_WATCHTOWER_BUILD: AIConfig.DEFENSE_WATCHTOWER_BUILD,
    DEFENSE_WATCHTOWER_UPGRADE: AIConfig.DEFENSE_WATCHTOWER_UPGRADE,
    DEFENSE_THREAT_MULT: AIConfig.DEFENSE_THREAT_MULT,
    DEFENSE_BASE_THREAT_RADIUS: AIConfig.DEFENSE_BASE_THREAT_RADIUS,
    DEFENSE_BASE_THREAT_SCORE: AIConfig.DEFENSE_BASE_THREAT_SCORE,
    RECONNECT_DISCONNECTED_SCORE: AIConfig.RECONNECT_DISCONNECTED_SCORE,
    RECONNECT_MULTI_BONUS: AIConfig.RECONNECT_MULTI_BONUS,
    RISK_ENEMY_ADJACENT_PENALTY: AIConfig.RISK_ENEMY_ADJACENT_PENALTY,
    MAX_MOVES_PER_TURN: AIConfig.MAX_MOVES_PER_TURN,
    RANDOM_NOISE: AIConfig.RANDOM_NOISE
};

export const EvolvedProfile1: AIProfile = {
    id: 'evolved_1769047935959_1',
    label: 'Urban Wendy',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.599,
        DEFENSE_BASE_THREAT_RADIUS: 1.731,
        DEFENSE_BASE_THREAT_SCORE: 199.833,
        DEFENSE_BASE_UPGRADE: 24.512,
        DEFENSE_THREAT_MULT: 42.731,
        DEFENSE_WALL_BUILD: 112.834,
        DEFENSE_WALL_UPGRADE: 222.968,
        DEFENSE_WATCHTOWER_BUILD: 14.05,
        DEFENSE_WATCHTOWER_UPGRADE: 57.4,
        ECONOMY_AURA_BONUS_MULT: 120.633,
        ECONOMY_BASE_BALANCE_BONUS: 18.241,
        ECONOMY_BASE_INCOME: 224.97,
        ECONOMY_BASE_INCOME_LEVEL: 22.598,
        ECONOMY_FARM_BALANCE_BONUS: 20.75,
        ECONOMY_FARM_BUILD: 72.945,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.207,
        ECONOMY_FARM_LEVEL: 94.614,
        ECONOMY_FARM_UPGRADE: 260.534,
        MAX_MOVES_PER_TURN: 27.401,
        RANDOM_NOISE: 21.07,
        RECONNECT_DISCONNECTED_SCORE: 36.848,
        RECONNECT_MULTI_BONUS: 28.788,
        RISK_ENEMY_ADJACENT_PENALTY: 99.668,
        SAVE_FOR_TARGET_MAX_TURNS: 4.584,
        SAVE_FOR_TARGET_MIN_SCORE: 458.082,
        SCORE_AURA_MULTIPLIER: 346.25,
        SCORE_BASE_VALUE: 10.779,
        SCORE_BRIDGE: 31.288,
        SCORE_DEFEND_BASE: 734.473,
        SCORE_DISCONNECT_ENEMY: 44.506,
        SCORE_ENEMY_LAND: 41.271,
        SCORE_EXPANSION: 14.392,
        SCORE_HILL: 27.828,
        SCORE_LOOKAHEAD_BASE: 405.235,
        SCORE_LOOKAHEAD_TOWN: 62.117,
        SCORE_TOWN: 204.505,
        SCORE_WIN_CONDITION: 4467.572,
        STRATEGY_BASE_UPGRADE_BONUS: 32.432,
        STRATEGY_EARLY_EXPANSION_BONUS: 7.212,
        STRATEGY_EARLY_FARM_BONUS: 48.168,
        STRATEGY_EARLY_TURN_LIMIT: 4.223,
        STRATEGY_ENDGAME_ATTACK_BONUS: 118.029,
        STRATEGY_ENDGAME_TURN: 6.653,
        STRATEGY_WALL_PRIORITY_BONUS: 61.774,
    }
};

export const EvolvedProfile2: AIProfile = {
    id: 'evolved_1769047935959_2',
    label: 'Planter Leo',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.263,
        DEFENSE_BASE_THREAT_RADIUS: 1.943,
        DEFENSE_BASE_THREAT_SCORE: 142.115,
        DEFENSE_BASE_UPGRADE: 34.35,
        DEFENSE_THREAT_MULT: 46.731,
        DEFENSE_WALL_BUILD: 136.445,
        DEFENSE_WALL_UPGRADE: 260.383,
        DEFENSE_WATCHTOWER_BUILD: 17.713,
        DEFENSE_WATCHTOWER_UPGRADE: 72.942,
        ECONOMY_AURA_BONUS_MULT: 107.382,
        ECONOMY_BASE_BALANCE_BONUS: 20.96,
        ECONOMY_BASE_INCOME: 225.916,
        ECONOMY_BASE_INCOME_LEVEL: 28.093,
        ECONOMY_FARM_BALANCE_BONUS: 23.368,
        ECONOMY_FARM_BUILD: 86.371,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.407,
        ECONOMY_FARM_LEVEL: 64.172,
        ECONOMY_FARM_UPGRADE: 254.924,
        MAX_MOVES_PER_TURN: 35.437,
        RANDOM_NOISE: 25.321,
        RECONNECT_DISCONNECTED_SCORE: 49.079,
        RECONNECT_MULTI_BONUS: 24.138,
        RISK_ENEMY_ADJACENT_PENALTY: 84.352,
        SAVE_FOR_TARGET_MAX_TURNS: 4.072,
        SAVE_FOR_TARGET_MIN_SCORE: 374.731,
        SCORE_AURA_MULTIPLIER: 268.124,
        SCORE_BASE_VALUE: 11.46,
        SCORE_BRIDGE: 26.033,
        SCORE_DEFEND_BASE: 594.315,
        SCORE_DISCONNECT_ENEMY: 50.127,
        SCORE_ENEMY_LAND: 42.825,
        SCORE_EXPANSION: 12.035,
        SCORE_HILL: 33.55,
        SCORE_LOOKAHEAD_BASE: 272.803,
        SCORE_LOOKAHEAD_TOWN: 58.383,
        SCORE_TOWN: 207.256,
        SCORE_WIN_CONDITION: 5398.805,
        STRATEGY_BASE_UPGRADE_BONUS: 33.515,
        STRATEGY_EARLY_EXPANSION_BONUS: 8.341,
        STRATEGY_EARLY_FARM_BONUS: 57.169,
        STRATEGY_EARLY_TURN_LIMIT: 5.672,
        STRATEGY_ENDGAME_ATTACK_BONUS: 97.518,
        STRATEGY_ENDGAME_TURN: 7.732,
        STRATEGY_WALL_PRIORITY_BONUS: 39.002,
    }
};

export const EvolvedProfile3: AIProfile = {
    id: 'evolved_1769047935959_3',
    label: 'Fighter Kate',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.641,
        DEFENSE_BASE_THREAT_RADIUS: 1.857,
        DEFENSE_BASE_THREAT_SCORE: 212.749,
        DEFENSE_BASE_UPGRADE: 25.761,
        DEFENSE_THREAT_MULT: 40.098,
        DEFENSE_WALL_BUILD: 112.848,
        DEFENSE_WALL_UPGRADE: 239.628,
        DEFENSE_WATCHTOWER_BUILD: 14.836,
        DEFENSE_WATCHTOWER_UPGRADE: 60.243,
        ECONOMY_AURA_BONUS_MULT: 131.249,
        ECONOMY_BASE_BALANCE_BONUS: 19.332,
        ECONOMY_BASE_INCOME: 204.459,
        ECONOMY_BASE_INCOME_LEVEL: 23.61,
        ECONOMY_FARM_BALANCE_BONUS: 22.028,
        ECONOMY_FARM_BUILD: 66.721,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.292,
        ECONOMY_FARM_LEVEL: 93.481,
        ECONOMY_FARM_UPGRADE: 278.977,
        MAX_MOVES_PER_TURN: 29.156,
        RANDOM_NOISE: 20.649,
        RECONNECT_DISCONNECTED_SCORE: 37.897,
        RECONNECT_MULTI_BONUS: 26.684,
        RISK_ENEMY_ADJACENT_PENALTY: 96.576,
        SAVE_FOR_TARGET_MAX_TURNS: 4.341,
        SAVE_FOR_TARGET_MIN_SCORE: 502.183,
        SCORE_AURA_MULTIPLIER: 341.218,
        SCORE_BASE_VALUE: 11.606,
        SCORE_BRIDGE: 31.77,
        SCORE_DEFEND_BASE: 790.828,
        SCORE_DISCONNECT_ENEMY: 43.946,
        SCORE_ENEMY_LAND: 44.919,
        SCORE_EXPANSION: 13.146,
        SCORE_HILL: 28.059,
        SCORE_LOOKAHEAD_BASE: 399.289,
        SCORE_LOOKAHEAD_TOWN: 59.188,
        SCORE_TOWN: 193.211,
        SCORE_WIN_CONDITION: 4358.576,
        STRATEGY_BASE_UPGRADE_BONUS: 31.196,
        STRATEGY_EARLY_EXPANSION_BONUS: 7.498,
        STRATEGY_EARLY_FARM_BONUS: 44.076,
        STRATEGY_EARLY_TURN_LIMIT: 4.233,
        STRATEGY_ENDGAME_ATTACK_BONUS: 114.164,
        STRATEGY_ENDGAME_TURN: 7.085,
        STRATEGY_WALL_PRIORITY_BONUS: 67.292,
    }
};

export const EvolvedProfile4: AIProfile = {
    id: 'evolved_1769047935959_4',
    label: 'Settler Olivia',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.517,
        DEFENSE_BASE_THREAT_RADIUS: 1.81,
        DEFENSE_BASE_THREAT_SCORE: 188.92,
        DEFENSE_BASE_UPGRADE: 33.059,
        DEFENSE_THREAT_MULT: 40.814,
        DEFENSE_WALL_BUILD: 128.851,
        DEFENSE_WALL_UPGRADE: 290.582,
        DEFENSE_WATCHTOWER_BUILD: 12.974,
        DEFENSE_WATCHTOWER_UPGRADE: 53.837,
        ECONOMY_AURA_BONUS_MULT: 108.455,
        ECONOMY_BASE_BALANCE_BONUS: 26.481,
        ECONOMY_BASE_INCOME: 218.58,
        ECONOMY_BASE_INCOME_LEVEL: 31.143,
        ECONOMY_FARM_BALANCE_BONUS: 17.971,
        ECONOMY_FARM_BUILD: 75.087,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.626,
        ECONOMY_FARM_LEVEL: 79.541,
        ECONOMY_FARM_UPGRADE: 205.041,
        MAX_MOVES_PER_TURN: 35.522,
        RANDOM_NOISE: 21.813,
        RECONNECT_DISCONNECTED_SCORE: 39.255,
        RECONNECT_MULTI_BONUS: 28.929,
        RISK_ENEMY_ADJACENT_PENALTY: 103.274,
        SAVE_FOR_TARGET_MAX_TURNS: 4.151,
        SAVE_FOR_TARGET_MIN_SCORE: 468.12,
        SCORE_AURA_MULTIPLIER: 332.489,
        SCORE_BASE_VALUE: 12.091,
        SCORE_BRIDGE: 36.764,
        SCORE_DEFEND_BASE: 619.453,
        SCORE_DISCONNECT_ENEMY: 37.671,
        SCORE_ENEMY_LAND: 40.961,
        SCORE_EXPANSION: 15.255,
        SCORE_HILL: 35.639,
        SCORE_LOOKAHEAD_BASE: 389.567,
        SCORE_LOOKAHEAD_TOWN: 55.938,
        SCORE_TOWN: 188.586,
        SCORE_WIN_CONDITION: 5572.65,
        STRATEGY_BASE_UPGRADE_BONUS: 37.136,
        STRATEGY_EARLY_EXPANSION_BONUS: 7.255,
        STRATEGY_EARLY_FARM_BONUS: 51.681,
        STRATEGY_EARLY_TURN_LIMIT: 4.2,
        STRATEGY_ENDGAME_ATTACK_BONUS: 139.782,
        STRATEGY_ENDGAME_TURN: 6.175,
        STRATEGY_WALL_PRIORITY_BONUS: 59.303,
    }
};

export const RandomAiProfiles: AIProfile[] = [
    EvolvedProfile1,
    EvolvedProfile2,
    EvolvedProfile3,
    EvolvedProfile4
];

export const DefaultAIProfile: AIProfile = EvolvedProfile1;

export const mergeAIWeights = (overrides?: Partial<AIWeights>): AIWeights => {
    return {
        ...DefaultAIWeights,
        ...(overrides || {})
    };
};
