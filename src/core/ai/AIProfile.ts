import { AIConfig } from '../AIConfig';

export type AIWeights = {
    SCORE_BASE_VALUE: number;
    SCORE_WIN_CONDITION: number;
    SCORE_TOWN: number;
    SCORE_ENEMY_LAND: number;
    SCORE_DISCONNECT_ENEMY: number;
    SCORE_DEFEND_BASE: number;
    SCORE_HILL: number;
    SCORE_BRIDGE: number;
    SCORE_EXPANSION: number;
    SCORE_AURA_MULTIPLIER: number;
    COST_PENALTY_MULTIPLIER: number;
    SCORE_LOOKAHEAD_TOWN: number;
    SCORE_LOOKAHEAD_BASE: number;
    STRATEGY_EARLY_TURN_LIMIT: number;
    STRATEGY_EARLY_EXPANSION_BONUS: number;
    STRATEGY_EARLY_FARM_BONUS: number;
    STRATEGY_BASE_UPGRADE_BONUS: number;
    STRATEGY_WALL_PRIORITY_BONUS: number;
    STRATEGY_ENDGAME_TURN: number;
    STRATEGY_ENDGAME_ATTACK_BONUS: number;
    SAVE_FOR_TARGET_MAX_TURNS: number;
    SAVE_FOR_TARGET_MIN_SCORE: number;
    ECONOMY_FARM_INCOME_TARGET_RATIO: number;
    ECONOMY_FARM_BALANCE_BONUS: number;
    ECONOMY_BASE_BALANCE_BONUS: number;
    ECONOMY_BASE_INCOME: number;
    ECONOMY_BASE_INCOME_LEVEL: number;
    ECONOMY_FARM_BUILD: number;
    ECONOMY_FARM_UPGRADE: number;
    ECONOMY_FARM_LEVEL: number;
    ECONOMY_AURA_BONUS_MULT: number;
    DEFENSE_BASE_UPGRADE: number;
    DEFENSE_WALL_BUILD: number;
    DEFENSE_WALL_UPGRADE: number;
    DEFENSE_WATCHTOWER_BUILD: number;
    DEFENSE_WATCHTOWER_UPGRADE: number;
    DEFENSE_THREAT_MULT: number;
    DEFENSE_BASE_THREAT_RADIUS: number;
    DEFENSE_BASE_THREAT_SCORE: number;
    RECONNECT_DISCONNECTED_SCORE: number;
    RECONNECT_MULTI_BONUS: number;
    RISK_ENEMY_ADJACENT_PENALTY: number;
    MAX_MOVES_PER_TURN: number;
    RANDOM_NOISE: number;
};

export type AIProfile = {
    id: string;
    label?: string;
    weights?: Partial<AIWeights>;
};

export const DefaultAIWeights: AIWeights = {
    SCORE_BASE_VALUE: AIConfig.SCORE_BASE_VALUE,
    SCORE_WIN_CONDITION: AIConfig.SCORE_WIN_CONDITION,
    SCORE_TOWN: AIConfig.SCORE_TOWN,
    SCORE_ENEMY_LAND: AIConfig.SCORE_ENEMY_LAND,
    SCORE_DISCONNECT_ENEMY: AIConfig.SCORE_DISCONNECT_ENEMY,
    SCORE_DEFEND_BASE: AIConfig.SCORE_DEFEND_BASE,
    SCORE_HILL: AIConfig.SCORE_HILL,
    SCORE_BRIDGE: AIConfig.SCORE_BRIDGE,
    SCORE_EXPANSION: AIConfig.SCORE_EXPANSION,
    SCORE_AURA_MULTIPLIER: AIConfig.SCORE_AURA_MULTIPLIER,
    COST_PENALTY_MULTIPLIER: AIConfig.COST_PENALTY_MULTIPLIER,
    SCORE_LOOKAHEAD_TOWN: AIConfig.SCORE_LOOKAHEAD_TOWN,
    SCORE_LOOKAHEAD_BASE: AIConfig.SCORE_LOOKAHEAD_BASE,
    STRATEGY_EARLY_TURN_LIMIT: AIConfig.STRATEGY_EARLY_TURN_LIMIT,
    STRATEGY_EARLY_EXPANSION_BONUS: AIConfig.STRATEGY_EARLY_EXPANSION_BONUS,
    STRATEGY_EARLY_FARM_BONUS: AIConfig.STRATEGY_EARLY_FARM_BONUS,
    STRATEGY_BASE_UPGRADE_BONUS: AIConfig.STRATEGY_BASE_UPGRADE_BONUS,
    STRATEGY_WALL_PRIORITY_BONUS: AIConfig.STRATEGY_WALL_PRIORITY_BONUS,
    STRATEGY_ENDGAME_TURN: AIConfig.STRATEGY_ENDGAME_TURN,
    STRATEGY_ENDGAME_ATTACK_BONUS: AIConfig.STRATEGY_ENDGAME_ATTACK_BONUS,
    SAVE_FOR_TARGET_MAX_TURNS: AIConfig.SAVE_FOR_TARGET_MAX_TURNS,
    SAVE_FOR_TARGET_MIN_SCORE: AIConfig.SAVE_FOR_TARGET_MIN_SCORE,
    ECONOMY_FARM_INCOME_TARGET_RATIO: AIConfig.ECONOMY_FARM_INCOME_TARGET_RATIO,
    ECONOMY_FARM_BALANCE_BONUS: AIConfig.ECONOMY_FARM_BALANCE_BONUS,
    ECONOMY_BASE_BALANCE_BONUS: AIConfig.ECONOMY_BASE_BALANCE_BONUS,
    ECONOMY_BASE_INCOME: AIConfig.ECONOMY_BASE_INCOME,
    ECONOMY_BASE_INCOME_LEVEL: AIConfig.ECONOMY_BASE_INCOME_LEVEL,
    ECONOMY_FARM_BUILD: AIConfig.ECONOMY_FARM_BUILD,
    ECONOMY_FARM_UPGRADE: AIConfig.ECONOMY_FARM_UPGRADE,
    ECONOMY_FARM_LEVEL: AIConfig.ECONOMY_FARM_LEVEL,
    ECONOMY_AURA_BONUS_MULT: AIConfig.ECONOMY_AURA_BONUS_MULT,
    DEFENSE_BASE_UPGRADE: AIConfig.DEFENSE_BASE_UPGRADE,
    DEFENSE_WALL_BUILD: AIConfig.DEFENSE_WALL_BUILD,
    DEFENSE_WALL_UPGRADE: AIConfig.DEFENSE_WALL_UPGRADE,
    DEFENSE_WATCHTOWER_BUILD: AIConfig.DEFENSE_WATCHTOWER_BUILD,
    DEFENSE_WATCHTOWER_UPGRADE: AIConfig.DEFENSE_WATCHTOWER_UPGRADE,
    DEFENSE_THREAT_MULT: AIConfig.DEFENSE_THREAT_MULT,
    DEFENSE_BASE_THREAT_RADIUS: AIConfig.DEFENSE_BASE_THREAT_RADIUS,
    DEFENSE_BASE_THREAT_SCORE: AIConfig.DEFENSE_BASE_THREAT_SCORE,
    RECONNECT_DISCONNECTED_SCORE: AIConfig.RECONNECT_DISCONNECTED_SCORE,
    RECONNECT_MULTI_BONUS: AIConfig.RECONNECT_MULTI_BONUS,
    RISK_ENEMY_ADJACENT_PENALTY: AIConfig.RISK_ENEMY_ADJACENT_PENALTY,
    MAX_MOVES_PER_TURN: AIConfig.MAX_MOVES_PER_TURN,
    RANDOM_NOISE: AIConfig.RANDOM_NOISE
};

export const EvolvedProfile1: AIProfile = {
    id: 'evolved_1768939120658_1',
    label: 'Citizen Hal',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.235,
        DEFENSE_BASE_THREAT_RADIUS: 2.032,
        DEFENSE_BASE_THREAT_SCORE: 187.306,
        DEFENSE_BASE_UPGRADE: 40.509,
        DEFENSE_THREAT_MULT: 40.465,
        DEFENSE_WALL_BUILD: 96.426,
        DEFENSE_WALL_UPGRADE: 243.383,
        DEFENSE_WATCHTOWER_BUILD: 13.429,
        DEFENSE_WATCHTOWER_UPGRADE: 72.418,
        ECONOMY_AURA_BONUS_MULT: 97.412,
        ECONOMY_BASE_BALANCE_BONUS: 17.358,
        ECONOMY_BASE_INCOME: 184.201,
        ECONOMY_BASE_INCOME_LEVEL: 22.48,
        ECONOMY_FARM_BALANCE_BONUS: 19.759,
        ECONOMY_FARM_BUILD: 98.788,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 0.997,
        ECONOMY_FARM_LEVEL: 70.382,
        ECONOMY_FARM_UPGRADE: 216.044,
        MAX_MOVES_PER_TURN: 31.045,
        RANDOM_NOISE: 18.648,
        RECONNECT_DISCONNECTED_SCORE: 43.867,
        RECONNECT_MULTI_BONUS: 22.602,
        RISK_ENEMY_ADJACENT_PENALTY: 130.052,
        SAVE_FOR_TARGET_MAX_TURNS: 3.59,
        SAVE_FOR_TARGET_MIN_SCORE: 300.594,
        SCORE_AURA_MULTIPLIER: 312.488,
        SCORE_BASE_VALUE: 12.839,
        SCORE_BRIDGE: 26.286,
        SCORE_DEFEND_BASE: 958.37,
        SCORE_DISCONNECT_ENEMY: 40.81,
        SCORE_ENEMY_LAND: 45.142,
        SCORE_EXPANSION: 14.71,
        SCORE_HILL: 41.696,
        SCORE_LOOKAHEAD_BASE: 296.556,
        SCORE_LOOKAHEAD_TOWN: 61.434,
        SCORE_TOWN: 170.796,
        SCORE_WIN_CONDITION: 4486.183,
        STRATEGY_BASE_UPGRADE_BONUS: 23.9,
        STRATEGY_EARLY_EXPANSION_BONUS: 8.317,
        STRATEGY_EARLY_FARM_BONUS: 43.794,
        STRATEGY_EARLY_TURN_LIMIT: 3.985,
        STRATEGY_ENDGAME_ATTACK_BONUS: 80.884,
        STRATEGY_ENDGAME_TURN: 8.004,
        STRATEGY_WALL_PRIORITY_BONUS: 60.564,
    }
};

export const EvolvedProfile2: AIProfile = {
    id: 'evolved_1768939120658_2',
    label: 'Farmer Gabe',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.194,
        DEFENSE_BASE_THREAT_RADIUS: 1.832,
        DEFENSE_BASE_THREAT_SCORE: 217.358,
        DEFENSE_BASE_UPGRADE: 26.939,
        DEFENSE_THREAT_MULT: 34.967,
        DEFENSE_WALL_BUILD: 77.293,
        DEFENSE_WALL_UPGRADE: 370.595,
        DEFENSE_WATCHTOWER_BUILD: 15.666,
        DEFENSE_WATCHTOWER_UPGRADE: 71.31,
        ECONOMY_AURA_BONUS_MULT: 77.972,
        ECONOMY_BASE_BALANCE_BONUS: 16.822,
        ECONOMY_BASE_INCOME: 196.679,
        ECONOMY_BASE_INCOME_LEVEL: 31.212,
        ECONOMY_FARM_BALANCE_BONUS: 16.115,
        ECONOMY_FARM_BUILD: 135.285,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.061,
        ECONOMY_FARM_LEVEL: 54.329,
        ECONOMY_FARM_UPGRADE: 304.838,
        MAX_MOVES_PER_TURN: 28.918,
        RANDOM_NOISE: 20.13,
        RECONNECT_DISCONNECTED_SCORE: 44.478,
        RECONNECT_MULTI_BONUS: 25.26,
        RISK_ENEMY_ADJACENT_PENALTY: 188.027,
        SAVE_FOR_TARGET_MAX_TURNS: 3.369,
        SAVE_FOR_TARGET_MIN_SCORE: 272.93,
        SCORE_AURA_MULTIPLIER: 306.072,
        SCORE_BASE_VALUE: 12.386,
        SCORE_BRIDGE: 19.679,
        SCORE_DEFEND_BASE: 878.473,
        SCORE_DISCONNECT_ENEMY: 35.023,
        SCORE_ENEMY_LAND: 39.19,
        SCORE_EXPANSION: 9.735,
        SCORE_HILL: 25.509,
        SCORE_LOOKAHEAD_BASE: 327.235,
        SCORE_LOOKAHEAD_TOWN: 63.871,
        SCORE_TOWN: 169.417,
        SCORE_WIN_CONDITION: 6169.032,
        STRATEGY_BASE_UPGRADE_BONUS: 26.287,
        STRATEGY_EARLY_EXPANSION_BONUS: 12.741,
        STRATEGY_EARLY_FARM_BONUS: 38.558,
        STRATEGY_EARLY_TURN_LIMIT: 5.235,
        STRATEGY_ENDGAME_ATTACK_BONUS: 58.824,
        STRATEGY_ENDGAME_TURN: 7.949,
        STRATEGY_WALL_PRIORITY_BONUS: 52.01,
    }
};

export const EvolvedProfile3: AIProfile = {
    id: 'evolved_1768939120658_3',
    label: 'Warrior Vic',
    weights: {
        COST_PENALTY_MULTIPLIER: 0.917,
        DEFENSE_BASE_THREAT_RADIUS: 1.623,
        DEFENSE_BASE_THREAT_SCORE: 293.01,
        DEFENSE_BASE_UPGRADE: 34.31,
        DEFENSE_THREAT_MULT: 30.711,
        DEFENSE_WALL_BUILD: 64.076,
        DEFENSE_WALL_UPGRADE: 228.726,
        DEFENSE_WATCHTOWER_BUILD: 15.913,
        DEFENSE_WATCHTOWER_UPGRADE: 57.569,
        ECONOMY_AURA_BONUS_MULT: 89.854,
        ECONOMY_BASE_BALANCE_BONUS: 10.922,
        ECONOMY_BASE_INCOME: 200.655,
        ECONOMY_BASE_INCOME_LEVEL: 31.831,
        ECONOMY_FARM_BALANCE_BONUS: 16.931,
        ECONOMY_FARM_BUILD: 95.948,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.32,
        ECONOMY_FARM_LEVEL: 61.252,
        ECONOMY_FARM_UPGRADE: 380.504,
        MAX_MOVES_PER_TURN: 35.412,
        RANDOM_NOISE: 23.695,
        RECONNECT_DISCONNECTED_SCORE: 46.021,
        RECONNECT_MULTI_BONUS: 24.992,
        RISK_ENEMY_ADJACENT_PENALTY: 235.45,
        SAVE_FOR_TARGET_MAX_TURNS: 3.51,
        SAVE_FOR_TARGET_MIN_SCORE: 302.087,
        SCORE_AURA_MULTIPLIER: 317.533,
        SCORE_BASE_VALUE: 9.327,
        SCORE_BRIDGE: 29.414,
        SCORE_DEFEND_BASE: 847.194,
        SCORE_DISCONNECT_ENEMY: 34.576,
        SCORE_ENEMY_LAND: 47.319,
        SCORE_EXPANSION: 10.748,
        SCORE_HILL: 28.766,
        SCORE_LOOKAHEAD_BASE: 292.379,
        SCORE_LOOKAHEAD_TOWN: 53.022,
        SCORE_TOWN: 173.629,
        SCORE_WIN_CONDITION: 5998.88,
        STRATEGY_BASE_UPGRADE_BONUS: 30.524,
        STRATEGY_EARLY_EXPANSION_BONUS: 9.269,
        STRATEGY_EARLY_FARM_BONUS: 41.845,
        STRATEGY_EARLY_TURN_LIMIT: 3.746,
        STRATEGY_ENDGAME_ATTACK_BONUS: 45.339,
        STRATEGY_ENDGAME_TURN: 8.746,
        STRATEGY_WALL_PRIORITY_BONUS: 46.493,
    }
};

export const EvolvedProfile4: AIProfile = {
    id: 'evolved_1768939120658_4',
    label: 'Influencer Zara',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.239,
        DEFENSE_BASE_THREAT_RADIUS: 2.122,
        DEFENSE_BASE_THREAT_SCORE: 152.574,
        DEFENSE_BASE_UPGRADE: 42.9,
        DEFENSE_THREAT_MULT: 56.02,
        DEFENSE_WALL_BUILD: 75.276,
        DEFENSE_WALL_UPGRADE: 314.719,
        DEFENSE_WATCHTOWER_BUILD: 29.191,
        DEFENSE_WATCHTOWER_UPGRADE: 61.225,
        ECONOMY_AURA_BONUS_MULT: 68.673,
        ECONOMY_BASE_BALANCE_BONUS: 24.081,
        ECONOMY_BASE_INCOME: 155.401,
        ECONOMY_BASE_INCOME_LEVEL: 15.835,
        ECONOMY_FARM_BALANCE_BONUS: 22.963,
        ECONOMY_FARM_BUILD: 70.796,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 0.668,
        ECONOMY_FARM_LEVEL: 58.171,
        ECONOMY_FARM_UPGRADE: 169.938,
        MAX_MOVES_PER_TURN: 24.644,
        RANDOM_NOISE: 15.026,
        RECONNECT_DISCONNECTED_SCORE: 38.124,
        RECONNECT_MULTI_BONUS: 24.282,
        RISK_ENEMY_ADJACENT_PENALTY: 117.423,
        SAVE_FOR_TARGET_MAX_TURNS: 3.274,
        SAVE_FOR_TARGET_MIN_SCORE: 216.958,
        SCORE_AURA_MULTIPLIER: 354.389,
        SCORE_BASE_VALUE: 9.368,
        SCORE_BRIDGE: 37.242,
        SCORE_DEFEND_BASE: 934.501,
        SCORE_DISCONNECT_ENEMY: 35.517,
        SCORE_ENEMY_LAND: 35.468,
        SCORE_EXPANSION: 17.819,
        SCORE_HILL: 32.041,
        SCORE_LOOKAHEAD_BASE: 356.316,
        SCORE_LOOKAHEAD_TOWN: 76.843,
        SCORE_TOWN: 126.996,
        SCORE_WIN_CONDITION: 4068.905,
        STRATEGY_BASE_UPGRADE_BONUS: 31.506,
        STRATEGY_EARLY_EXPANSION_BONUS: 11.178,
        STRATEGY_EARLY_FARM_BONUS: 25.746,
        STRATEGY_EARLY_TURN_LIMIT: 3.943,
        STRATEGY_ENDGAME_ATTACK_BONUS: 51.788,
        STRATEGY_ENDGAME_TURN: 8.762,
        STRATEGY_WALL_PRIORITY_BONUS: 92.514,
    }
};

export const RandomAiProfiles: AIProfile[] = [
    EvolvedProfile1,
    EvolvedProfile2,
    EvolvedProfile3,
    EvolvedProfile4
];

export const DefaultAIProfile: AIProfile = EvolvedProfile1;

export const mergeAIWeights = (overrides?: Partial<AIWeights>): AIWeights => {
    return {
        ...DefaultAIWeights,
        ...(overrides || {})
    };
};
