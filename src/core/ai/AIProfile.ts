import { AIConfig } from '../AIConfig';

export type AIWeights = {
    SCORE_BASE_VALUE: number;
    SCORE_WIN_CONDITION: number;
    SCORE_TOWN: number;
    SCORE_ENEMY_LAND: number;
    SCORE_DISCONNECT_ENEMY: number;
    SCORE_DEFEND_BASE: number;
    SCORE_HILL: number;
    SCORE_BRIDGE: number;
    SCORE_EXPANSION: number;
    SCORE_AURA_MULTIPLIER: number;
    COST_PENALTY_MULTIPLIER: number;
    SCORE_LOOKAHEAD_TOWN: number;
    SCORE_LOOKAHEAD_BASE: number;
    STRATEGY_EARLY_TURN_LIMIT: number;
    STRATEGY_EARLY_EXPANSION_BONUS: number;
    STRATEGY_EARLY_FARM_BONUS: number;
    STRATEGY_BASE_UPGRADE_BONUS: number;
    STRATEGY_WALL_PRIORITY_BONUS: number;
    STRATEGY_ENDGAME_TURN: number;
    STRATEGY_ENDGAME_ATTACK_BONUS: number;
    SAVE_FOR_TARGET_MAX_TURNS: number;
    SAVE_FOR_TARGET_MIN_SCORE: number;
    ECONOMY_FARM_INCOME_TARGET_RATIO: number;
    ECONOMY_FARM_BALANCE_BONUS: number;
    ECONOMY_BASE_BALANCE_BONUS: number;
    ECONOMY_BASE_INCOME: number;
    ECONOMY_BASE_INCOME_LEVEL: number;
    ECONOMY_FARM_BUILD: number;
    ECONOMY_FARM_UPGRADE: number;
    ECONOMY_FARM_LEVEL: number;
    ECONOMY_AURA_BONUS_MULT: number;
    DEFENSE_BASE_UPGRADE: number;
    DEFENSE_WALL_BUILD: number;
    DEFENSE_WALL_UPGRADE: number;
    DEFENSE_WATCHTOWER_BUILD: number;
    DEFENSE_WATCHTOWER_UPGRADE: number;
    DEFENSE_THREAT_MULT: number;
    DEFENSE_BASE_THREAT_RADIUS: number;
    DEFENSE_BASE_THREAT_SCORE: number;
    RECONNECT_DISCONNECTED_SCORE: number;
    RECONNECT_MULTI_BONUS: number;
    RISK_ENEMY_ADJACENT_PENALTY: number;
    MAX_MOVES_PER_TURN: number;
    RANDOM_NOISE: number;
};

export type AIProfile = {
    id: string;
    label?: string;
    weights?: Partial<AIWeights>;
};

export const DefaultAIWeights: AIWeights = {
    SCORE_BASE_VALUE: AIConfig.SCORE_BASE_VALUE,
    SCORE_WIN_CONDITION: AIConfig.SCORE_WIN_CONDITION,
    SCORE_TOWN: AIConfig.SCORE_TOWN,
    SCORE_ENEMY_LAND: AIConfig.SCORE_ENEMY_LAND,
    SCORE_DISCONNECT_ENEMY: AIConfig.SCORE_DISCONNECT_ENEMY,
    SCORE_DEFEND_BASE: AIConfig.SCORE_DEFEND_BASE,
    SCORE_HILL: AIConfig.SCORE_HILL,
    SCORE_BRIDGE: AIConfig.SCORE_BRIDGE,
    SCORE_EXPANSION: AIConfig.SCORE_EXPANSION,
    SCORE_AURA_MULTIPLIER: AIConfig.SCORE_AURA_MULTIPLIER,
    COST_PENALTY_MULTIPLIER: AIConfig.COST_PENALTY_MULTIPLIER,
    SCORE_LOOKAHEAD_TOWN: AIConfig.SCORE_LOOKAHEAD_TOWN,
    SCORE_LOOKAHEAD_BASE: AIConfig.SCORE_LOOKAHEAD_BASE,
    STRATEGY_EARLY_TURN_LIMIT: AIConfig.STRATEGY_EARLY_TURN_LIMIT,
    STRATEGY_EARLY_EXPANSION_BONUS: AIConfig.STRATEGY_EARLY_EXPANSION_BONUS,
    STRATEGY_EARLY_FARM_BONUS: AIConfig.STRATEGY_EARLY_FARM_BONUS,
    STRATEGY_BASE_UPGRADE_BONUS: AIConfig.STRATEGY_BASE_UPGRADE_BONUS,
    STRATEGY_WALL_PRIORITY_BONUS: AIConfig.STRATEGY_WALL_PRIORITY_BONUS,
    STRATEGY_ENDGAME_TURN: AIConfig.STRATEGY_ENDGAME_TURN,
    STRATEGY_ENDGAME_ATTACK_BONUS: AIConfig.STRATEGY_ENDGAME_ATTACK_BONUS,
    SAVE_FOR_TARGET_MAX_TURNS: AIConfig.SAVE_FOR_TARGET_MAX_TURNS,
    SAVE_FOR_TARGET_MIN_SCORE: AIConfig.SAVE_FOR_TARGET_MIN_SCORE,
    ECONOMY_FARM_INCOME_TARGET_RATIO: AIConfig.ECONOMY_FARM_INCOME_TARGET_RATIO,
    ECONOMY_FARM_BALANCE_BONUS: AIConfig.ECONOMY_FARM_BALANCE_BONUS,
    ECONOMY_BASE_BALANCE_BONUS: AIConfig.ECONOMY_BASE_BALANCE_BONUS,
    ECONOMY_BASE_INCOME: AIConfig.ECONOMY_BASE_INCOME,
    ECONOMY_BASE_INCOME_LEVEL: AIConfig.ECONOMY_BASE_INCOME_LEVEL,
    ECONOMY_FARM_BUILD: AIConfig.ECONOMY_FARM_BUILD,
    ECONOMY_FARM_UPGRADE: AIConfig.ECONOMY_FARM_UPGRADE,
    ECONOMY_FARM_LEVEL: AIConfig.ECONOMY_FARM_LEVEL,
    ECONOMY_AURA_BONUS_MULT: AIConfig.ECONOMY_AURA_BONUS_MULT,
    DEFENSE_BASE_UPGRADE: AIConfig.DEFENSE_BASE_UPGRADE,
    DEFENSE_WALL_BUILD: AIConfig.DEFENSE_WALL_BUILD,
    DEFENSE_WALL_UPGRADE: AIConfig.DEFENSE_WALL_UPGRADE,
    DEFENSE_WATCHTOWER_BUILD: AIConfig.DEFENSE_WATCHTOWER_BUILD,
    DEFENSE_WATCHTOWER_UPGRADE: AIConfig.DEFENSE_WATCHTOWER_UPGRADE,
    DEFENSE_THREAT_MULT: AIConfig.DEFENSE_THREAT_MULT,
    DEFENSE_BASE_THREAT_RADIUS: AIConfig.DEFENSE_BASE_THREAT_RADIUS,
    DEFENSE_BASE_THREAT_SCORE: AIConfig.DEFENSE_BASE_THREAT_SCORE,
    RECONNECT_DISCONNECTED_SCORE: AIConfig.RECONNECT_DISCONNECTED_SCORE,
    RECONNECT_MULTI_BONUS: AIConfig.RECONNECT_MULTI_BONUS,
    RISK_ENEMY_ADJACENT_PENALTY: AIConfig.RISK_ENEMY_ADJACENT_PENALTY,
    MAX_MOVES_PER_TURN: AIConfig.MAX_MOVES_PER_TURN,
    RANDOM_NOISE: AIConfig.RANDOM_NOISE
};

export const EvolvedProfile1: AIProfile = {
    id: 'evolved_1768869197729_1',
    label: 'Pioneer',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.25,
        DEFENSE_BASE_THREAT_RADIUS: 2.1,
        DEFENSE_BASE_THREAT_SCORE: 188.598,
        DEFENSE_BASE_UPGRADE: 35.228,
        DEFENSE_THREAT_MULT: 42.562,
        DEFENSE_WALL_BUILD: 109.278,
        DEFENSE_WALL_UPGRADE: 292.362,
        DEFENSE_WATCHTOWER_BUILD: 17.256,
        DEFENSE_WATCHTOWER_UPGRADE: 69.161,
        ECONOMY_AURA_BONUS_MULT: 103.397,
        ECONOMY_BASE_BALANCE_BONUS: 18.702,
        ECONOMY_BASE_INCOME: 193.716,
        ECONOMY_BASE_INCOME_LEVEL: 24.561,
        ECONOMY_FARM_BALANCE_BONUS: 21.267,
        ECONOMY_FARM_BUILD: 116.04,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.025,
        ECONOMY_FARM_LEVEL: 52.701,
        ECONOMY_FARM_UPGRADE: 250.836,
        MAX_MOVES_PER_TURN: 33.054,
        RANDOM_NOISE: 21.248,
        RECONNECT_DISCONNECTED_SCORE: 46.184,
        RECONNECT_MULTI_BONUS: 25.023,
        RISK_ENEMY_ADJACENT_PENALTY: 138.188,
        SAVE_FOR_TARGET_MAX_TURNS: 2.985,
        SAVE_FOR_TARGET_MIN_SCORE: 297.381,
        SCORE_AURA_MULTIPLIER: 281.498,
        SCORE_BASE_VALUE: 10.454,
        SCORE_BRIDGE: 24.459,
        SCORE_DEFEND_BASE: 991.077,
        SCORE_DISCONNECT_ENEMY: 45.385,
        SCORE_ENEMY_LAND: 39.783,
        SCORE_EXPANSION: 12.042,
        SCORE_HILL: 36.855,
        SCORE_LOOKAHEAD_BASE: 290.102,
        SCORE_LOOKAHEAD_TOWN: 62.529,
        SCORE_TOWN: 162.028,
        SCORE_WIN_CONDITION: 5216.553,
        STRATEGY_BASE_UPGRADE_BONUS: 25.696,
        STRATEGY_EARLY_EXPANSION_BONUS: 9.068,
        STRATEGY_EARLY_FARM_BONUS: 34.987,
        STRATEGY_EARLY_TURN_LIMIT: 4.198,
        STRATEGY_ENDGAME_ATTACK_BONUS: 66.33,
        STRATEGY_ENDGAME_TURN: 8.658,
        STRATEGY_WALL_PRIORITY_BONUS: 55.112,
    }
};

export const EvolvedProfile2: AIProfile = {
    id: 'evolved_1768869197729_2',
    label: 'Master',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.333,
        DEFENSE_BASE_THREAT_RADIUS: 2.072,
        DEFENSE_BASE_THREAT_SCORE: 178.652,
        DEFENSE_BASE_UPGRADE: 33.232,
        DEFENSE_THREAT_MULT: 45.386,
        DEFENSE_WALL_BUILD: 101.937,
        DEFENSE_WALL_UPGRADE: 298.555,
        DEFENSE_WATCHTOWER_BUILD: 17.746,
        DEFENSE_WATCHTOWER_UPGRADE: 70.284,
        ECONOMY_AURA_BONUS_MULT: 103.254,
        ECONOMY_BASE_BALANCE_BONUS: 18.959,
        ECONOMY_BASE_INCOME: 205.08,
        ECONOMY_BASE_INCOME_LEVEL: 24.004,
        ECONOMY_FARM_BALANCE_BONUS: 22.972,
        ECONOMY_FARM_BUILD: 117.074,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.032,
        ECONOMY_FARM_LEVEL: 48.472,
        ECONOMY_FARM_UPGRADE: 249.121,
        MAX_MOVES_PER_TURN: 31.01,
        RANDOM_NOISE: 22.498,
        RECONNECT_DISCONNECTED_SCORE: 45.165,
        RECONNECT_MULTI_BONUS: 25.422,
        RISK_ENEMY_ADJACENT_PENALTY: 129.897,
        SAVE_FOR_TARGET_MAX_TURNS: 3.14,
        SAVE_FOR_TARGET_MIN_SCORE: 321.119,
        SCORE_AURA_MULTIPLIER: 303.255,
        SCORE_BASE_VALUE: 10.223,
        SCORE_BRIDGE: 23.871,
        SCORE_DEFEND_BASE: 948.832,
        SCORE_DISCONNECT_ENEMY: 44.574,
        SCORE_ENEMY_LAND: 37.774,
        SCORE_EXPANSION: 11.759,
        SCORE_HILL: 39.815,
        SCORE_LOOKAHEAD_BASE: 301.019,
        SCORE_LOOKAHEAD_TOWN: 65.339,
        SCORE_TOWN: 156.332,
        SCORE_WIN_CONDITION: 5531.852,
        STRATEGY_BASE_UPGRADE_BONUS: 23.441,
        STRATEGY_EARLY_EXPANSION_BONUS: 8.497,
        STRATEGY_EARLY_FARM_BONUS: 35.814,
        STRATEGY_EARLY_TURN_LIMIT: 4.568,
        STRATEGY_ENDGAME_ATTACK_BONUS: 68.564,
        STRATEGY_ENDGAME_TURN: 8.609,
        STRATEGY_WALL_PRIORITY_BONUS: 54.154,
    }
};

export const EvolvedProfile3: AIProfile = {
    id: 'evolved_1768869197729_3',
    label: 'Victor',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.246,
        DEFENSE_BASE_THREAT_RADIUS: 2.085,
        DEFENSE_BASE_THREAT_SCORE: 156.947,
        DEFENSE_BASE_UPGRADE: 26.118,
        DEFENSE_THREAT_MULT: 42.467,
        DEFENSE_WALL_BUILD: 92.432,
        DEFENSE_WALL_UPGRADE: 275.95,
        DEFENSE_WATCHTOWER_BUILD: 20.027,
        DEFENSE_WATCHTOWER_UPGRADE: 64.332,
        ECONOMY_AURA_BONUS_MULT: 107.611,
        ECONOMY_BASE_BALANCE_BONUS: 24.76,
        ECONOMY_BASE_INCOME: 227.582,
        ECONOMY_BASE_INCOME_LEVEL: 22.351,
        ECONOMY_FARM_BALANCE_BONUS: 21.9,
        ECONOMY_FARM_BUILD: 99.274,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.137,
        ECONOMY_FARM_LEVEL: 51.943,
        ECONOMY_FARM_UPGRADE: 267.15,
        MAX_MOVES_PER_TURN: 36.422,
        RANDOM_NOISE: 20.811,
        RECONNECT_DISCONNECTED_SCORE: 46.171,
        RECONNECT_MULTI_BONUS: 31.408,
        RISK_ENEMY_ADJACENT_PENALTY: 114.244,
        SAVE_FOR_TARGET_MAX_TURNS: 2.858,
        SAVE_FOR_TARGET_MIN_SCORE: 305.688,
        SCORE_AURA_MULTIPLIER: 254.638,
        SCORE_BASE_VALUE: 9.722,
        SCORE_BRIDGE: 26.633,
        SCORE_DEFEND_BASE: 1061.415,
        SCORE_DISCONNECT_ENEMY: 38.792,
        SCORE_ENEMY_LAND: 40.607,
        SCORE_EXPANSION: 11.674,
        SCORE_HILL: 53.449,
        SCORE_LOOKAHEAD_BASE: 271.146,
        SCORE_LOOKAHEAD_TOWN: 51.979,
        SCORE_TOWN: 216.156,
        SCORE_WIN_CONDITION: 7401.235,
        STRATEGY_BASE_UPGRADE_BONUS: 24.729,
        STRATEGY_EARLY_EXPANSION_BONUS: 11.251,
        STRATEGY_EARLY_FARM_BONUS: 39.27,
        STRATEGY_EARLY_TURN_LIMIT: 3.738,
        STRATEGY_ENDGAME_ATTACK_BONUS: 62.231,
        STRATEGY_ENDGAME_TURN: 8.922,
        STRATEGY_WALL_PRIORITY_BONUS: 76.177,
    }
};

export const EvolvedProfile4: AIProfile = {
    id: 'evolved_1768869197729_4',
    label: 'Focus',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.336,
        DEFENSE_BASE_THREAT_RADIUS: 2.013,
        DEFENSE_BASE_THREAT_SCORE: 163.875,
        DEFENSE_BASE_UPGRADE: 35.709,
        DEFENSE_THREAT_MULT: 43.717,
        DEFENSE_WALL_BUILD: 97.266,
        DEFENSE_WALL_UPGRADE: 272.203,
        DEFENSE_WATCHTOWER_BUILD: 18.836,
        DEFENSE_WATCHTOWER_UPGRADE: 68.861,
        ECONOMY_AURA_BONUS_MULT: 107.972,
        ECONOMY_BASE_BALANCE_BONUS: 17.761,
        ECONOMY_BASE_INCOME: 209.646,
        ECONOMY_BASE_INCOME_LEVEL: 23.559,
        ECONOMY_FARM_BALANCE_BONUS: 23.878,
        ECONOMY_FARM_BUILD: 107.168,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.134,
        ECONOMY_FARM_LEVEL: 43.948,
        ECONOMY_FARM_UPGRADE: 224.421,
        MAX_MOVES_PER_TURN: 34.06,
        RANDOM_NOISE: 23.353,
        RECONNECT_DISCONNECTED_SCORE: 44.486,
        RECONNECT_MULTI_BONUS: 23.132,
        RISK_ENEMY_ADJACENT_PENALTY: 129.432,
        SAVE_FOR_TARGET_MAX_TURNS: 2.918,
        SAVE_FOR_TARGET_MIN_SCORE: 339.287,
        SCORE_AURA_MULTIPLIER: 312.295,
        SCORE_BASE_VALUE: 10.771,
        SCORE_BRIDGE: 24.307,
        SCORE_DEFEND_BASE: 865.382,
        SCORE_DISCONNECT_ENEMY: 40.833,
        SCORE_ENEMY_LAND: 35.931,
        SCORE_EXPANSION: 11.835,
        SCORE_HILL: 41.787,
        SCORE_LOOKAHEAD_BASE: 311.621,
        SCORE_LOOKAHEAD_TOWN: 60.014,
        SCORE_TOWN: 168.912,
        SCORE_WIN_CONDITION: 5723.425,
        STRATEGY_BASE_UPGRADE_BONUS: 24.836,
        STRATEGY_EARLY_EXPANSION_BONUS: 9.002,
        STRATEGY_EARLY_FARM_BONUS: 33.852,
        STRATEGY_EARLY_TURN_LIMIT: 4.164,
        STRATEGY_ENDGAME_ATTACK_BONUS: 63.589,
        STRATEGY_ENDGAME_TURN: 9.47,
        STRATEGY_WALL_PRIORITY_BONUS: 51.099,
    }
};

export const RandomAiProfiles: AIProfile[] = [
    EvolvedProfile1,
    EvolvedProfile2,
    EvolvedProfile3,
    EvolvedProfile4
];

export const DefaultAIProfile: AIProfile = EvolvedProfile1;

export const mergeAIWeights = (overrides?: Partial<AIWeights>): AIWeights => {
    return {
        ...DefaultAIWeights,
        ...(overrides || {})
    };
};
