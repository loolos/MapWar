import { AIConfig } from '../AIConfig';

export type AIWeights = {
    SCORE_BASE_VALUE: number;
    SCORE_WIN_CONDITION: number;
    SCORE_TOWN: number;
    SCORE_ENEMY_LAND: number;
    SCORE_DISCONNECT_ENEMY: number;
    SCORE_DEFEND_BASE: number;
    SCORE_HILL: number;
    SCORE_BRIDGE: number;
    SCORE_EXPANSION: number;
    SCORE_AURA_MULTIPLIER: number;
    COST_PENALTY_MULTIPLIER: number;
    SCORE_LOOKAHEAD_TOWN: number;
    SCORE_LOOKAHEAD_BASE: number;
    STRATEGY_EARLY_TURN_LIMIT: number;
    STRATEGY_EARLY_EXPANSION_BONUS: number;
    STRATEGY_EARLY_FARM_BONUS: number;
    STRATEGY_BASE_UPGRADE_BONUS: number;
    STRATEGY_WALL_PRIORITY_BONUS: number;
    STRATEGY_ENDGAME_TURN: number;
    STRATEGY_ENDGAME_ATTACK_BONUS: number;
    SAVE_FOR_TARGET_MAX_TURNS: number;
    SAVE_FOR_TARGET_MIN_SCORE: number;
    ECONOMY_FARM_INCOME_TARGET_RATIO: number;
    ECONOMY_FARM_BALANCE_BONUS: number;
    ECONOMY_BASE_BALANCE_BONUS: number;
    ECONOMY_BASE_INCOME: number;
    ECONOMY_BASE_INCOME_LEVEL: number;
    ECONOMY_FARM_BUILD: number;
    ECONOMY_FARM_UPGRADE: number;
    ECONOMY_FARM_LEVEL: number;
    ECONOMY_AURA_BONUS_MULT: number;
    DEFENSE_BASE_UPGRADE: number;
    DEFENSE_WALL_BUILD: number;
    DEFENSE_WALL_UPGRADE: number;
    DEFENSE_WATCHTOWER_BUILD: number;
    DEFENSE_WATCHTOWER_UPGRADE: number;
    DEFENSE_THREAT_MULT: number;
    DEFENSE_BASE_THREAT_RADIUS: number;
    DEFENSE_BASE_THREAT_SCORE: number;
    RECONNECT_DISCONNECTED_SCORE: number;
    RECONNECT_MULTI_BONUS: number;
    RISK_ENEMY_ADJACENT_PENALTY: number;
    MAX_MOVES_PER_TURN: number;
    RANDOM_NOISE: number;
};

export type AIProfile = {
    id: string;
    label?: string;
    weights?: Partial<AIWeights>;
};

export const DefaultAIWeights: AIWeights = {
    SCORE_BASE_VALUE: AIConfig.SCORE_BASE_VALUE,
    SCORE_WIN_CONDITION: AIConfig.SCORE_WIN_CONDITION,
    SCORE_TOWN: AIConfig.SCORE_TOWN,
    SCORE_ENEMY_LAND: AIConfig.SCORE_ENEMY_LAND,
    SCORE_DISCONNECT_ENEMY: AIConfig.SCORE_DISCONNECT_ENEMY,
    SCORE_DEFEND_BASE: AIConfig.SCORE_DEFEND_BASE,
    SCORE_HILL: AIConfig.SCORE_HILL,
    SCORE_BRIDGE: AIConfig.SCORE_BRIDGE,
    SCORE_EXPANSION: AIConfig.SCORE_EXPANSION,
    SCORE_AURA_MULTIPLIER: AIConfig.SCORE_AURA_MULTIPLIER,
    COST_PENALTY_MULTIPLIER: AIConfig.COST_PENALTY_MULTIPLIER,
    SCORE_LOOKAHEAD_TOWN: AIConfig.SCORE_LOOKAHEAD_TOWN,
    SCORE_LOOKAHEAD_BASE: AIConfig.SCORE_LOOKAHEAD_BASE,
    STRATEGY_EARLY_TURN_LIMIT: AIConfig.STRATEGY_EARLY_TURN_LIMIT,
    STRATEGY_EARLY_EXPANSION_BONUS: AIConfig.STRATEGY_EARLY_EXPANSION_BONUS,
    STRATEGY_EARLY_FARM_BONUS: AIConfig.STRATEGY_EARLY_FARM_BONUS,
    STRATEGY_BASE_UPGRADE_BONUS: AIConfig.STRATEGY_BASE_UPGRADE_BONUS,
    STRATEGY_WALL_PRIORITY_BONUS: AIConfig.STRATEGY_WALL_PRIORITY_BONUS,
    STRATEGY_ENDGAME_TURN: AIConfig.STRATEGY_ENDGAME_TURN,
    STRATEGY_ENDGAME_ATTACK_BONUS: AIConfig.STRATEGY_ENDGAME_ATTACK_BONUS,
    SAVE_FOR_TARGET_MAX_TURNS: AIConfig.SAVE_FOR_TARGET_MAX_TURNS,
    SAVE_FOR_TARGET_MIN_SCORE: AIConfig.SAVE_FOR_TARGET_MIN_SCORE,
    ECONOMY_FARM_INCOME_TARGET_RATIO: AIConfig.ECONOMY_FARM_INCOME_TARGET_RATIO,
    ECONOMY_FARM_BALANCE_BONUS: AIConfig.ECONOMY_FARM_BALANCE_BONUS,
    ECONOMY_BASE_BALANCE_BONUS: AIConfig.ECONOMY_BASE_BALANCE_BONUS,
    ECONOMY_BASE_INCOME: AIConfig.ECONOMY_BASE_INCOME,
    ECONOMY_BASE_INCOME_LEVEL: AIConfig.ECONOMY_BASE_INCOME_LEVEL,
    ECONOMY_FARM_BUILD: AIConfig.ECONOMY_FARM_BUILD,
    ECONOMY_FARM_UPGRADE: AIConfig.ECONOMY_FARM_UPGRADE,
    ECONOMY_FARM_LEVEL: AIConfig.ECONOMY_FARM_LEVEL,
    ECONOMY_AURA_BONUS_MULT: AIConfig.ECONOMY_AURA_BONUS_MULT,
    DEFENSE_BASE_UPGRADE: AIConfig.DEFENSE_BASE_UPGRADE,
    DEFENSE_WALL_BUILD: AIConfig.DEFENSE_WALL_BUILD,
    DEFENSE_WALL_UPGRADE: AIConfig.DEFENSE_WALL_UPGRADE,
    DEFENSE_WATCHTOWER_BUILD: AIConfig.DEFENSE_WATCHTOWER_BUILD,
    DEFENSE_WATCHTOWER_UPGRADE: AIConfig.DEFENSE_WATCHTOWER_UPGRADE,
    DEFENSE_THREAT_MULT: AIConfig.DEFENSE_THREAT_MULT,
    DEFENSE_BASE_THREAT_RADIUS: AIConfig.DEFENSE_BASE_THREAT_RADIUS,
    DEFENSE_BASE_THREAT_SCORE: AIConfig.DEFENSE_BASE_THREAT_SCORE,
    RECONNECT_DISCONNECTED_SCORE: AIConfig.RECONNECT_DISCONNECTED_SCORE,
    RECONNECT_MULTI_BONUS: AIConfig.RECONNECT_MULTI_BONUS,
    RISK_ENEMY_ADJACENT_PENALTY: AIConfig.RISK_ENEMY_ADJACENT_PENALTY,
    MAX_MOVES_PER_TURN: AIConfig.MAX_MOVES_PER_TURN,
    RANDOM_NOISE: AIConfig.RANDOM_NOISE
};

export const EvolvedProfile1: AIProfile = {
    id: 'evolved_1768859410441_1',
    label: 'Trade Defender',
    weights: {
        COST_PENALTY_MULTIPLIER: 0.77,
        DEFENSE_BASE_THREAT_RADIUS: 4.748,
        DEFENSE_BASE_THREAT_SCORE: 263.952,
        DEFENSE_BASE_UPGRADE: 51.064,
        DEFENSE_THREAT_MULT: 41.578,
        DEFENSE_WALL_BUILD: 124.31,
        DEFENSE_WALL_UPGRADE: 342.399,
        DEFENSE_WATCHTOWER_BUILD: 24.724,
        DEFENSE_WATCHTOWER_UPGRADE: 75.018,
        ECONOMY_AURA_BONUS_MULT: 202.203,
        ECONOMY_BASE_BALANCE_BONUS: 23.566,
        ECONOMY_BASE_INCOME: 210.202,
        ECONOMY_BASE_INCOME_LEVEL: 18.427,
        ECONOMY_FARM_BALANCE_BONUS: 17.327,
        ECONOMY_FARM_BUILD: 132.784,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.339,
        ECONOMY_FARM_LEVEL: 50.184,
        ECONOMY_FARM_UPGRADE: 165.963,
        MAX_MOVES_PER_TURN: 30.105,
        RANDOM_NOISE: 13.234,
        RECONNECT_DISCONNECTED_SCORE: 58.498,
        RECONNECT_MULTI_BONUS: 23.657,
        RISK_ENEMY_ADJACENT_PENALTY: 108.973,
        SAVE_FOR_TARGET_MAX_TURNS: 2.804,
        SAVE_FOR_TARGET_MIN_SCORE: 372.474,
        SCORE_AURA_MULTIPLIER: 116.631,
        SCORE_BASE_VALUE: 10.88,
        SCORE_BRIDGE: 20.085,
        SCORE_DEFEND_BASE: 2761.098,
        SCORE_DISCONNECT_ENEMY: 52.472,
        SCORE_ENEMY_LAND: 116.109,
        SCORE_EXPANSION: 6.948,
        SCORE_HILL: 21.97,
        SCORE_LOOKAHEAD_BASE: 232.297,
        SCORE_LOOKAHEAD_TOWN: 99.054,
        SCORE_TOWN: 374.309,
        SCORE_WIN_CONDITION: 7244.753,
        STRATEGY_BASE_UPGRADE_BONUS: 36.688,
        STRATEGY_EARLY_EXPANSION_BONUS: 13.094,
        STRATEGY_EARLY_FARM_BONUS: 38.562,
        STRATEGY_EARLY_TURN_LIMIT: 3.827,
        STRATEGY_ENDGAME_ATTACK_BONUS: 84.141,
        STRATEGY_ENDGAME_TURN: 7.983,
        STRATEGY_WALL_PRIORITY_BONUS: 52.928,
    }
};

export const EvolvedProfile2: AIProfile = {
    id: 'evolved_1768859410441_2',
    label: 'Rich Pioneer',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.028,
        DEFENSE_BASE_THREAT_RADIUS: 1.935,
        DEFENSE_BASE_THREAT_SCORE: 200.175,
        DEFENSE_BASE_UPGRADE: 59.853,
        DEFENSE_THREAT_MULT: 62.893,
        DEFENSE_WALL_BUILD: 119.141,
        DEFENSE_WALL_UPGRADE: 383.311,
        DEFENSE_WATCHTOWER_BUILD: 29.972,
        DEFENSE_WATCHTOWER_UPGRADE: 57.662,
        ECONOMY_AURA_BONUS_MULT: 127.599,
        ECONOMY_BASE_BALANCE_BONUS: 27.368,
        ECONOMY_BASE_INCOME: 233.855,
        ECONOMY_BASE_INCOME_LEVEL: 21.366,
        ECONOMY_FARM_BALANCE_BONUS: 14.33,
        ECONOMY_FARM_BUILD: 157.233,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.104,
        ECONOMY_FARM_LEVEL: 34.423,
        ECONOMY_FARM_UPGRADE: 219.108,
        MAX_MOVES_PER_TURN: 28.702,
        RANDOM_NOISE: 11.542,
        RECONNECT_DISCONNECTED_SCORE: 39.347,
        RECONNECT_MULTI_BONUS: 28.312,
        RISK_ENEMY_ADJACENT_PENALTY: 71.317,
        SAVE_FOR_TARGET_MAX_TURNS: 3.631,
        SAVE_FOR_TARGET_MIN_SCORE: 517.917,
        SCORE_AURA_MULTIPLIER: 72.247,
        SCORE_BASE_VALUE: 7.888,
        SCORE_BRIDGE: 16.866,
        SCORE_DEFEND_BASE: 1503.501,
        SCORE_DISCONNECT_ENEMY: 45.435,
        SCORE_ENEMY_LAND: 103.802,
        SCORE_EXPANSION: 7.968,
        SCORE_HILL: 37.171,
        SCORE_LOOKAHEAD_BASE: 289.975,
        SCORE_LOOKAHEAD_TOWN: 64.004,
        SCORE_TOWN: 376.396,
        SCORE_WIN_CONDITION: 5243.312,
        STRATEGY_BASE_UPGRADE_BONUS: 18.347,
        STRATEGY_EARLY_EXPANSION_BONUS: 12.513,
        STRATEGY_EARLY_FARM_BONUS: 35.326,
        STRATEGY_EARLY_TURN_LIMIT: 4.825,
        STRATEGY_ENDGAME_ATTACK_BONUS: 72.678,
        STRATEGY_ENDGAME_TURN: 6.938,
        STRATEGY_WALL_PRIORITY_BONUS: 82.892,
    }
};

export const EvolvedProfile3: AIProfile = {
    id: 'evolved_1768859410441_3',
    label: 'Smart Trade',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.15,
        DEFENSE_BASE_THREAT_RADIUS: 2.255,
        DEFENSE_BASE_THREAT_SCORE: 278.72,
        DEFENSE_BASE_UPGRADE: 56.783,
        DEFENSE_THREAT_MULT: 50.928,
        DEFENSE_WALL_BUILD: 138.986,
        DEFENSE_WALL_UPGRADE: 347.794,
        DEFENSE_WATCHTOWER_BUILD: 26.603,
        DEFENSE_WATCHTOWER_UPGRADE: 78.829,
        ECONOMY_AURA_BONUS_MULT: 178.625,
        ECONOMY_BASE_BALANCE_BONUS: 25.642,
        ECONOMY_BASE_INCOME: 303.591,
        ECONOMY_BASE_INCOME_LEVEL: 19.493,
        ECONOMY_FARM_BALANCE_BONUS: 13.151,
        ECONOMY_FARM_BUILD: 157.825,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 0.826,
        ECONOMY_FARM_LEVEL: 38.584,
        ECONOMY_FARM_UPGRADE: 203.28,
        MAX_MOVES_PER_TURN: 26.768,
        RANDOM_NOISE: 10.503,
        RECONNECT_DISCONNECTED_SCORE: 39.584,
        RECONNECT_MULTI_BONUS: 29.272,
        RISK_ENEMY_ADJACENT_PENALTY: 76.338,
        SAVE_FOR_TARGET_MAX_TURNS: 3.811,
        SAVE_FOR_TARGET_MIN_SCORE: 553.861,
        SCORE_AURA_MULTIPLIER: 71.519,
        SCORE_BASE_VALUE: 8.912,
        SCORE_BRIDGE: 14.716,
        SCORE_DEFEND_BASE: 1644.311,
        SCORE_DISCONNECT_ENEMY: 43.841,
        SCORE_ENEMY_LAND: 76.766,
        SCORE_EXPANSION: 7.672,
        SCORE_HILL: 31.482,
        SCORE_LOOKAHEAD_BASE: 325.296,
        SCORE_LOOKAHEAD_TOWN: 66.399,
        SCORE_TOWN: 359.223,
        SCORE_WIN_CONDITION: 6637.799,
        STRATEGY_BASE_UPGRADE_BONUS: 21.785,
        STRATEGY_EARLY_EXPANSION_BONUS: 14.13,
        STRATEGY_EARLY_FARM_BONUS: 31.334,
        STRATEGY_EARLY_TURN_LIMIT: 5.409,
        STRATEGY_ENDGAME_ATTACK_BONUS: 77.754,
        STRATEGY_ENDGAME_TURN: 7.224,
        STRATEGY_WALL_PRIORITY_BONUS: 65.52,
    }
};

export const EvolvedProfile4: AIProfile = {
    id: 'evolved_1768859410441_4',
    label: 'Townsman',
    weights: {
        COST_PENALTY_MULTIPLIER: 1.197,
        DEFENSE_BASE_THREAT_RADIUS: 2.1,
        DEFENSE_BASE_THREAT_SCORE: 230.857,
        DEFENSE_BASE_UPGRADE: 55.47,
        DEFENSE_THREAT_MULT: 64.9,
        DEFENSE_WALL_BUILD: 114.258,
        DEFENSE_WALL_UPGRADE: 366.96,
        DEFENSE_WATCHTOWER_BUILD: 26.922,
        DEFENSE_WATCHTOWER_UPGRADE: 57.932,
        ECONOMY_AURA_BONUS_MULT: 128.726,
        ECONOMY_BASE_BALANCE_BONUS: 26.719,
        ECONOMY_BASE_INCOME: 211.295,
        ECONOMY_BASE_INCOME_LEVEL: 19.726,
        ECONOMY_FARM_BALANCE_BONUS: 15.103,
        ECONOMY_FARM_BUILD: 150.259,
        ECONOMY_FARM_INCOME_TARGET_RATIO: 1.011,
        ECONOMY_FARM_LEVEL: 39.775,
        ECONOMY_FARM_UPGRADE: 204.978,
        MAX_MOVES_PER_TURN: 30.523,
        RANDOM_NOISE: 11.825,
        RECONNECT_DISCONNECTED_SCORE: 39.761,
        RECONNECT_MULTI_BONUS: 27.622,
        RISK_ENEMY_ADJACENT_PENALTY: 80.436,
        SAVE_FOR_TARGET_MAX_TURNS: 3.565,
        SAVE_FOR_TARGET_MIN_SCORE: 509.674,
        SCORE_AURA_MULTIPLIER: 74.669,
        SCORE_BASE_VALUE: 6.85,
        SCORE_BRIDGE: 14.703,
        SCORE_DEFEND_BASE: 1336.723,
        SCORE_DISCONNECT_ENEMY: 46.844,
        SCORE_ENEMY_LAND: 93.676,
        SCORE_EXPANSION: 8.879,
        SCORE_HILL: 39.038,
        SCORE_LOOKAHEAD_BASE: 283.893,
        SCORE_LOOKAHEAD_TOWN: 73.783,
        SCORE_TOWN: 409.182,
        SCORE_WIN_CONDITION: 5784.949,
        STRATEGY_BASE_UPGRADE_BONUS: 19.838,
        STRATEGY_EARLY_EXPANSION_BONUS: 12.013,
        STRATEGY_EARLY_FARM_BONUS: 40.485,
        STRATEGY_EARLY_TURN_LIMIT: 4.977,
        STRATEGY_ENDGAME_ATTACK_BONUS: 79.03,
        STRATEGY_ENDGAME_TURN: 7.313,
        STRATEGY_WALL_PRIORITY_BONUS: 87.893,
    }
};

export const RandomAiProfiles: AIProfile[] = [
    EvolvedProfile1,
    EvolvedProfile2,
    EvolvedProfile3,
    EvolvedProfile4
];

export const DefaultAIProfile: AIProfile = EvolvedProfile1;

export const mergeAIWeights = (overrides?: Partial<AIWeights>): AIWeights => {
    return {
        ...DefaultAIWeights,
        ...(overrides || {})
    };
};
